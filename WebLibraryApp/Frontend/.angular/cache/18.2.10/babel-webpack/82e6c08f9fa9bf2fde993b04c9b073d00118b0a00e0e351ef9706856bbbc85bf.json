{"ast":null,"code":"import { __decorate } from 'tslib';\nimport { NgForOf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, DestroyRef, NgZone, Directive, ContentChildren, forwardRef, Input, Component, ChangeDetectionStrategy, ViewChildren } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { tuiLineChartDrivers, TUI_LINE_CHART_OPTIONS, TuiLineChartHint, TuiLineChart } from '@taiga-ui/addon-charts/components/line-chart';\nimport { EMPTY_QUERY, EMPTY_ARRAY } from '@taiga-ui/cdk/constants';\nimport { TuiDay, TuiMonth } from '@taiga-ui/cdk/date-time';\nimport { TuiHoveredService } from '@taiga-ui/cdk/directives/hovered';\nimport { tuiZonefree } from '@taiga-ui/cdk/observables';\nimport { tuiPure, tuiIsNumber, tuiIsPresent } from '@taiga-ui/cdk/utils/miscellaneous';\nimport * as i1 from '@taiga-ui/core/directives/hint';\nimport { TuiHint } from '@taiga-ui/core/directives/hint';\nimport { PolymorpheusOutlet, PolymorpheusTemplate } from '@taiga-ui/polymorpheus';\nimport { combineLatest, filter } from 'rxjs';\nconst _c0 = a0 => ({\n  $implicit: a0\n});\nfunction TuiLineDaysChart_tui_line_chart_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-line-chart\", 2);\n  }\n  if (rf & 2) {\n    let tmp_10_0;\n    let tmp_11_0;\n    const month_r1 = ctx.$implicit;\n    const first_r2 = ctx.first;\n    const ctx_r2 = i0.ɵɵnextContext();\n    const hint_r4 = i0.ɵɵreference(2);\n    i0.ɵɵstyleProp(\"z-index\", ctx_r2.zIndex);\n    i0.ɵɵproperty(\"dots\", ctx_r2.dots)(\"height\", ctx_r2.height)(\"smoothingFactor\", ctx_r2.smoothingFactor)(\"tuiHintContent\", ctx_r2.hintContent ? hint_r4 : \"\")(\"value\", month_r1)(\"width\", first_r2 ? ctx_r2.firstWidth : ctx_r2.getWidth((tmp_10_0 = month_r1[0] == null ? null : month_r1[0][0]) !== null && tmp_10_0 !== undefined ? tmp_10_0 : 0))(\"x\", first_r2 ? 0 : ctx_r2.getX((tmp_11_0 = month_r1[0] == null ? null : month_r1[0][0]) !== null && tmp_11_0 !== undefined ? tmp_11_0 : 0))(\"xStringify\", ctx_r2.xStringify ? ctx_r2.daysStringify : null)(\"y\", ctx_r2.y)(\"yStringify\", ctx_r2.yStringify);\n  }\n}\nfunction TuiLineDaysChart_ng_template_1_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r5 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r5, \" \");\n  }\n}\nfunction TuiLineDaysChart_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiLineDaysChart_ng_template_1_ng_container_0_Template, 2, 1, \"ng-container\", 3);\n  }\n  if (rf & 2) {\n    const point_r6 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.hintContent)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c0, ctx_r2.getHintContext(point_r6[0], ctx_r2.value)));\n  }\n}\nfunction find(value, current) {\n  return value.find(([day]) => day.daySame(current)) || [current, NaN];\n}\n// TODO: Consider extending TuiLineChartHintDirective\nclass TuiLineDaysChartHint {\n  constructor() {\n    this.charts = EMPTY_QUERY;\n    this.destroyRef = inject(DestroyRef);\n    this.zone = inject(NgZone);\n    this.hovered$ = inject(TuiHoveredService);\n  }\n  ngAfterContentInit() {\n    combineLatest([...this.charts.map(({\n      charts\n    }) => tuiLineChartDrivers(charts)), this.hovered$]).pipe(filter(result => !result.some(Boolean)), tuiZonefree(this.zone), takeUntilDestroyed(this.destroyRef)).subscribe(() => {\n      this.charts.forEach(chart => chart.onHovered(NaN));\n    });\n  }\n  getContext(day) {\n    return this.getMap(...this.charts.map(({\n      value\n    }) => value)).get(String(day)) || [];\n  }\n  raise(day) {\n    const current = this.charts.map(({\n      value\n    }) => day ? find(value, day) : []).filter(([_, value]) => !Number.isNaN(value));\n    const sorted = [...current].sort((a, b) => a[1] - b[1]);\n    this.charts.forEach((chart, index) => {\n      const item = current[index];\n      chart.onHovered(day);\n      chart.zIndex = Math.max(item ? sorted.indexOf(item) : 0, 0);\n    });\n  }\n  getMap(...values) {\n    return (values[0] || []).reduce((map, [day]) => map.set(String(day), values.map(value => find(value, day))), new Map());\n  }\n  static {\n    this.ɵfac = function TuiLineDaysChartHint_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TuiLineDaysChartHint)();\n    };\n  }\n  static {\n    this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: TuiLineDaysChartHint,\n      selectors: [[\"\", \"tuiLineChartHint\", \"\"]],\n      contentQueries: function TuiLineDaysChartHint_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.ɵɵcontentQuery(dirIndex, TuiLineDaysChart, 4);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.charts = _t);\n        }\n      },\n      inputs: {\n        hint: [0, \"tuiLineChartHint\", \"hint\"]\n      },\n      standalone: true,\n      features: [i0.ɵɵProvidersFeature([TuiHoveredService])]\n    });\n  }\n}\n__decorate([tuiPure], TuiLineDaysChartHint.prototype, \"getMap\", null);\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiLineDaysChartHint, [{\n    type: Directive,\n    args: [{\n      standalone: true,\n      selector: '[tuiLineChartHint]',\n      providers: [TuiHoveredService]\n    }]\n  }], null, {\n    charts: [{\n      type: ContentChildren,\n      args: [forwardRef(() => TuiLineDaysChart)]\n    }],\n    hint: [{\n      type: Input,\n      args: ['tuiLineChartHint']\n    }],\n    getMap: []\n  });\n})();\nconst DUMMY = [NaN, NaN];\nclass TuiLineDaysChart {\n  constructor() {\n    this.destroyRef = inject(DestroyRef);\n    this.zone = inject(NgZone);\n    this.hovered$ = inject(TuiHoveredService);\n    this.options = inject(TUI_LINE_CHART_OPTIONS);\n    this.hintDirective = inject(TuiLineDaysChartHint, {\n      optional: true\n    });\n    this.charts = EMPTY_QUERY;\n    this.y = 0;\n    this.height = 0;\n    this.smoothingFactor = this.options.smoothingFactor;\n    this.xStringify = null;\n    this.yStringify = null;\n    this.dots = this.options.dots;\n    this.zIndex = 0;\n    this.value = [];\n    this.daysStringify = index => {\n      const day = this.getDay(index);\n      return this.xStringify && day ? this.xStringify(day) : '';\n    };\n  }\n  set valueSetter(value) {\n    if (!value.length) {\n      this.value = [];\n      return;\n    }\n    const start = value[0]?.[0];\n    const end = value[value.length - 1];\n    const mutable = [...value];\n    const length = start && end ? TuiDay.lengthBetween(start, end[0]) + 1 : 0;\n    this.value = Array.from({\n      length\n    }, (_, day) => {\n      const startMutable = mutable[0]?.[0];\n      const currentDay = start?.append({\n        day\n      });\n      const shifted = startMutable && currentDay?.daySame(startMutable) ? mutable.shift() : null;\n      const currentValue = shifted ? shifted[1] : NaN;\n      return [currentDay, currentValue];\n    });\n  }\n  get hint() {\n    return this.hintDirective?.hint ?? this.hintContent;\n  }\n  ngAfterViewInit() {\n    combineLatest([tuiLineChartDrivers(this.charts), this.hovered$]).pipe(filter(result => !result.some(Boolean)), tuiZonefree(this.zone), takeUntilDestroyed(this.destroyRef)).subscribe(() => {\n      this.onHovered(NaN);\n    });\n  }\n  onHovered(day) {\n    if (tuiIsNumber(day)) {\n      this.charts.forEach(chart => chart.onHovered(NaN));\n      return;\n    }\n    const start = this.value[0]?.[0];\n    const index = start && day ? TuiMonth.lengthBetween(start, day) : 0;\n    const x = start && day ? TuiDay.lengthBetween(start, day) + start.day - 1 : 0;\n    const current = this.charts.get(index);\n    this.charts.forEach(chart => {\n      if (chart === current) {\n        current.onHovered(current.value.findIndex(point => point[0] === x));\n      } else {\n        chart.onHovered(NaN);\n      }\n    });\n  }\n  raise(index, {\n    value\n  }) {\n    const x = value[index]?.[0] || 0;\n    const month = this.getDay(x);\n    if (!month) {\n      return;\n    }\n    if (this.hintDirective) {\n      this.hintDirective.raise(month);\n    } else {\n      this.onHovered(month);\n    }\n  }\n  getContext(index, {\n    value\n  }) {\n    const x = value[index]?.[0] || 0;\n    const day = this.getDay(x);\n    return this.hintDirective && day ? this.hintDirective.getContext(day) : this.getHintContext(x, this.value);\n  }\n  get months() {\n    return this.value.length ? this.breakMonths(this.value) : EMPTY_ARRAY;\n  }\n  get firstWidth() {\n    return this.months.length * (this.value[0]?.[0].daysCount || 0);\n  }\n  getHintContext(x, value) {\n    return value[x - (value[0]?.[0]?.day || 0) + 1] ?? null;\n  }\n  getX(index) {\n    const start = this.value[0]?.[0];\n    const current = this.getDay(index);\n    const months = start && current ? TuiMonth.lengthBetween(start, current) : 0;\n    const offset = months * (current?.daysCount || 0);\n    return index - offset;\n  }\n  getWidth(index) {\n    return (this.getDay(index)?.daysCount || 0) * this.months.length;\n  }\n  breakMonths(value) {\n    const offset = (value[0]?.[0].day || 1) - 1;\n    const start = value[0]?.[0];\n    const end = value[value.length - 1]?.[0];\n    return Array.from({\n      length: start && end ? TuiMonth.lengthBetween(start, end) + 1 : 0\n    }, (_, i) => i + (start?.month || 0) + (start?.year || 0) * 12).map(absoluteMonth => value.map(([{\n      month,\n      year\n    }, y], index) => month + year * 12 === absoluteMonth ? [index + offset, y] : null).filter(tuiIsPresent)).map((month, index, array) => index === array.length - 1 ? month : [...month, array[index + 1]?.find(day => !Number.isNaN(day[1])) || DUMMY]);\n  }\n  getDay(index) {\n    const start = this.value[0]?.[0];\n    return this.value[index - (start?.day || 0) + 1]?.[0];\n  }\n  static {\n    this.ɵfac = function TuiLineDaysChart_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TuiLineDaysChart)();\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: TuiLineDaysChart,\n      selectors: [[\"tui-line-days-chart\"]],\n      viewQuery: function TuiLineDaysChart_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(TuiLineChart, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.charts = _t);\n        }\n      },\n      hostVars: 2,\n      hostBindings: function TuiLineDaysChart_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.ɵɵstyleProp(\"z-index\", ctx.zIndex);\n        }\n      },\n      inputs: {\n        y: \"y\",\n        height: \"height\",\n        smoothingFactor: \"smoothingFactor\",\n        hintContent: \"hintContent\",\n        xStringify: \"xStringify\",\n        yStringify: \"yStringify\",\n        dots: \"dots\",\n        valueSetter: [0, \"value\", \"valueSetter\"]\n      },\n      standalone: true,\n      features: [i0.ɵɵProvidersFeature([TuiHoveredService, {\n        provide: TuiLineChartHint,\n        useExisting: TuiLineDaysChart\n      }]), i0.ɵɵStandaloneFeature],\n      decls: 3,\n      vars: 1,\n      consts: [[\"hint\", \"\"], [\"class\", \"t-chart\", 3, \"dots\", \"height\", \"smoothingFactor\", \"zIndex\", \"tuiHintContent\", \"value\", \"width\", \"x\", \"xStringify\", \"y\", \"yStringify\", 4, \"ngFor\", \"ngForOf\"], [1, \"t-chart\", 3, \"dots\", \"height\", \"smoothingFactor\", \"tuiHintContent\", \"value\", \"width\", \"x\", \"xStringify\", \"y\", \"yStringify\"], [4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"]],\n      template: function TuiLineDaysChart_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, TuiLineDaysChart_tui_line_chart_0_Template, 1, 12, \"tui-line-chart\", 1)(1, TuiLineDaysChart_ng_template_1_Template, 1, 4, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngForOf\", ctx.months);\n        }\n      },\n      dependencies: [NgForOf, PolymorpheusOutlet, i1.TuiHintOptionsDirective, TuiLineChart],\n      styles: [\"[_nghost-%COMP%]{display:block}.t-chart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}\"],\n      changeDetection: 0\n    });\n  }\n}\n__decorate([tuiPure], TuiLineDaysChart.prototype, \"getHintContext\", null);\n__decorate([tuiPure], TuiLineDaysChart.prototype, \"breakMonths\", null);\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiLineDaysChart, [{\n    type: Component,\n    args: [{\n      standalone: true,\n      selector: 'tui-line-days-chart',\n      imports: [NgForOf, PolymorpheusOutlet, PolymorpheusTemplate, TuiHint, TuiLineChart],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [TuiHoveredService, {\n        provide: TuiLineChartHint,\n        useExisting: TuiLineDaysChart\n      }],\n      host: {\n        '[style.zIndex]': 'zIndex'\n      },\n      template: \"<tui-line-chart\\n    *ngFor=\\\"let month of months; let first = first\\\"\\n    class=\\\"t-chart\\\"\\n    [dots]=\\\"dots\\\"\\n    [height]=\\\"height\\\"\\n    [smoothingFactor]=\\\"smoothingFactor\\\"\\n    [style.zIndex]=\\\"zIndex\\\"\\n    [tuiHintContent]=\\\"hintContent ? hint : ''\\\"\\n    [value]=\\\"month\\\"\\n    [width]=\\\"first ? firstWidth : getWidth(month[0]?.[0] ?? 0)\\\"\\n    [x]=\\\"first ? 0 : getX(month[0]?.[0] ?? 0)\\\"\\n    [xStringify]=\\\"xStringify ? daysStringify : null\\\"\\n    [y]=\\\"y\\\"\\n    [yStringify]=\\\"yStringify\\\"\\n/>\\n<ng-template\\n    #hint\\n    let-point\\n>\\n    <ng-container *polymorpheusOutlet=\\\"hintContent as text; context: {$implicit: getHintContext(point[0], value)}\\\">\\n        {{ text }}\\n    </ng-container>\\n</ng-template>\\n\",\n      styles: [\":host{display:block}.t-chart{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}\\n\"]\n    }]\n  }], null, {\n    charts: [{\n      type: ViewChildren,\n      args: [TuiLineChart]\n    }],\n    y: [{\n      type: Input\n    }],\n    height: [{\n      type: Input\n    }],\n    smoothingFactor: [{\n      type: Input\n    }],\n    hintContent: [{\n      type: Input\n    }],\n    xStringify: [{\n      type: Input\n    }],\n    yStringify: [{\n      type: Input\n    }],\n    dots: [{\n      type: Input\n    }],\n    valueSetter: [{\n      type: Input,\n      args: ['value']\n    }],\n    getHintContext: [],\n    breakMonths: []\n  });\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLineDaysChart, TuiLineDaysChartHint };","map":{"version":3,"names":["__decorate","NgForOf","i0","inject","DestroyRef","NgZone","Directive","ContentChildren","forwardRef","Input","Component","ChangeDetectionStrategy","ViewChildren","takeUntilDestroyed","tuiLineChartDrivers","TUI_LINE_CHART_OPTIONS","TuiLineChartHint","TuiLineChart","EMPTY_QUERY","EMPTY_ARRAY","TuiDay","TuiMonth","TuiHoveredService","tuiZonefree","tuiPure","tuiIsNumber","tuiIsPresent","i1","TuiHint","PolymorpheusOutlet","PolymorpheusTemplate","combineLatest","filter","_c0","a0","$implicit","TuiLineDaysChart_tui_line_chart_0_Template","rf","ctx","ɵɵelement","tmp_10_0","tmp_11_0","month_r1","first_r2","first","ctx_r2","ɵɵnextContext","hint_r4","ɵɵreference","ɵɵstyleProp","zIndex","ɵɵproperty","dots","height","smoothingFactor","hintContent","firstWidth","getWidth","undefined","getX","xStringify","daysStringify","y","yStringify","TuiLineDaysChart_ng_template_1_ng_container_0_Template","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r5","polymorpheusOutlet","ɵɵadvance","ɵɵtextInterpolate1","TuiLineDaysChart_ng_template_1_Template","ɵɵtemplate","point_r6","ɵɵpureFunction1","getHintContext","value","find","current","day","daySame","NaN","TuiLineDaysChartHint","constructor","charts","destroyRef","zone","hovered$","ngAfterContentInit","map","pipe","result","some","Boolean","subscribe","forEach","chart","onHovered","getContext","getMap","get","String","raise","_","Number","isNaN","sorted","sort","a","b","index","item","Math","max","indexOf","values","reduce","set","Map","ɵfac","TuiLineDaysChartHint_Factory","__ngFactoryType__","ɵdir","ɵɵdefineDirective","type","selectors","contentQueries","TuiLineDaysChartHint_ContentQueries","dirIndex","ɵɵcontentQuery","TuiLineDaysChart","_t","ɵɵqueryRefresh","ɵɵloadQuery","inputs","hint","standalone","features","ɵɵProvidersFeature","prototype","ngDevMode","ɵsetClassMetadata","args","selector","providers","DUMMY","options","hintDirective","optional","getDay","valueSetter","length","start","end","mutable","lengthBetween","Array","from","startMutable","currentDay","append","shifted","shift","currentValue","ngAfterViewInit","x","findIndex","point","month","months","breakMonths","daysCount","offset","i","year","absoluteMonth","array","TuiLineDaysChart_Factory","ɵcmp","ɵɵdefineComponent","viewQuery","TuiLineDaysChart_Query","ɵɵviewQuery","hostVars","hostBindings","TuiLineDaysChart_HostBindings","provide","useExisting","ɵɵStandaloneFeature","decls","vars","consts","template","TuiLineDaysChart_Template","ɵɵtemplateRefExtractor","dependencies","TuiHintOptionsDirective","styles","changeDetection","imports","OnPush","host"],"sources":["C:/Users/Asus-PC/Downloads/WebLibraryNew/WebLibrary/WebLibraryApp/Frontend/node_modules/@taiga-ui/addon-charts/fesm2022/taiga-ui-addon-charts-components-line-days-chart.mjs"],"sourcesContent":["import { __decorate } from 'tslib';\nimport { NgForOf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, DestroyRef, NgZone, Directive, ContentChildren, forwardRef, Input, Component, ChangeDetectionStrategy, ViewChildren } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { tuiLineChartDrivers, TUI_LINE_CHART_OPTIONS, TuiLineChartHint, TuiLineChart } from '@taiga-ui/addon-charts/components/line-chart';\nimport { EMPTY_QUERY, EMPTY_ARRAY } from '@taiga-ui/cdk/constants';\nimport { TuiDay, TuiMonth } from '@taiga-ui/cdk/date-time';\nimport { TuiHoveredService } from '@taiga-ui/cdk/directives/hovered';\nimport { tuiZonefree } from '@taiga-ui/cdk/observables';\nimport { tuiPure, tuiIsNumber, tuiIsPresent } from '@taiga-ui/cdk/utils/miscellaneous';\nimport * as i1 from '@taiga-ui/core/directives/hint';\nimport { TuiHint } from '@taiga-ui/core/directives/hint';\nimport { PolymorpheusOutlet, PolymorpheusTemplate } from '@taiga-ui/polymorpheus';\nimport { combineLatest, filter } from 'rxjs';\n\nfunction find(value, current) {\n    return value.find(([day]) => day.daySame(current)) || [current, NaN];\n}\n// TODO: Consider extending TuiLineChartHintDirective\nclass TuiLineDaysChartHint {\n    constructor() {\n        this.charts = EMPTY_QUERY;\n        this.destroyRef = inject(DestroyRef);\n        this.zone = inject(NgZone);\n        this.hovered$ = inject(TuiHoveredService);\n    }\n    ngAfterContentInit() {\n        combineLatest([\n            ...this.charts.map(({ charts }) => tuiLineChartDrivers(charts)),\n            this.hovered$,\n        ])\n            .pipe(filter((result) => !result.some(Boolean)), tuiZonefree(this.zone), takeUntilDestroyed(this.destroyRef))\n            .subscribe(() => {\n            this.charts.forEach((chart) => chart.onHovered(NaN));\n        });\n    }\n    getContext(day) {\n        return this.getMap(...this.charts.map(({ value }) => value)).get(String(day)) || [];\n    }\n    raise(day) {\n        const current = this.charts\n            .map(({ value }) => (day ? find(value, day) : []))\n            .filter(([_, value]) => !Number.isNaN(value));\n        const sorted = [...current].sort((a, b) => a[1] - b[1]);\n        this.charts.forEach((chart, index) => {\n            const item = current[index];\n            chart.onHovered(day);\n            chart.zIndex = Math.max(item ? sorted.indexOf(item) : 0, 0);\n        });\n    }\n    getMap(...values) {\n        return (values[0] || []).reduce((map, [day]) => map.set(String(day), values.map((value) => find(value, day))), new Map());\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiLineDaysChartHint, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.2.12\", type: TuiLineDaysChartHint, isStandalone: true, selector: \"[tuiLineChartHint]\", inputs: { hint: [\"tuiLineChartHint\", \"hint\"] }, providers: [TuiHoveredService], queries: [{ propertyName: \"charts\", predicate: i0.forwardRef(function () { return TuiLineDaysChart; }) }], ngImport: i0 }); }\n}\n__decorate([\n    tuiPure\n], TuiLineDaysChartHint.prototype, \"getMap\", null);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiLineDaysChartHint, decorators: [{\n            type: Directive,\n            args: [{\n                    standalone: true,\n                    selector: '[tuiLineChartHint]',\n                    providers: [TuiHoveredService],\n                }]\n        }], propDecorators: { charts: [{\n                type: ContentChildren,\n                args: [forwardRef(() => TuiLineDaysChart)]\n            }], hint: [{\n                type: Input,\n                args: ['tuiLineChartHint']\n            }], getMap: [] } });\n\nconst DUMMY = [NaN, NaN];\nclass TuiLineDaysChart {\n    constructor() {\n        this.destroyRef = inject(DestroyRef);\n        this.zone = inject(NgZone);\n        this.hovered$ = inject(TuiHoveredService);\n        this.options = inject(TUI_LINE_CHART_OPTIONS);\n        this.hintDirective = inject(TuiLineDaysChartHint, {\n            optional: true,\n        });\n        this.charts = EMPTY_QUERY;\n        this.y = 0;\n        this.height = 0;\n        this.smoothingFactor = this.options.smoothingFactor;\n        this.xStringify = null;\n        this.yStringify = null;\n        this.dots = this.options.dots;\n        this.zIndex = 0;\n        this.value = [];\n        this.daysStringify = (index) => {\n            const day = this.getDay(index);\n            return this.xStringify && day ? this.xStringify(day) : '';\n        };\n    }\n    set valueSetter(value) {\n        if (!value.length) {\n            this.value = [];\n            return;\n        }\n        const start = value[0]?.[0];\n        const end = value[value.length - 1];\n        const mutable = [...value];\n        const length = start && end ? TuiDay.lengthBetween(start, end[0]) + 1 : 0;\n        this.value = Array.from({ length }, (_, day) => {\n            const startMutable = mutable[0]?.[0];\n            const currentDay = start?.append({ day });\n            const shifted = startMutable && currentDay?.daySame(startMutable)\n                ? mutable.shift()\n                : null;\n            const currentValue = shifted ? shifted[1] : NaN;\n            return [currentDay, currentValue];\n        });\n    }\n    get hint() {\n        return this.hintDirective?.hint ?? this.hintContent;\n    }\n    ngAfterViewInit() {\n        combineLatest([tuiLineChartDrivers(this.charts), this.hovered$])\n            .pipe(filter((result) => !result.some(Boolean)), tuiZonefree(this.zone), takeUntilDestroyed(this.destroyRef))\n            .subscribe(() => {\n            this.onHovered(NaN);\n        });\n    }\n    onHovered(day) {\n        if (tuiIsNumber(day)) {\n            this.charts.forEach((chart) => chart.onHovered(NaN));\n            return;\n        }\n        const start = this.value[0]?.[0];\n        const index = start && day ? TuiMonth.lengthBetween(start, day) : 0;\n        const x = start && day ? TuiDay.lengthBetween(start, day) + start.day - 1 : 0;\n        const current = this.charts.get(index);\n        this.charts.forEach((chart) => {\n            if (chart === current) {\n                current.onHovered(current.value.findIndex((point) => point[0] === x));\n            }\n            else {\n                chart.onHovered(NaN);\n            }\n        });\n    }\n    raise(index, { value }) {\n        const x = value[index]?.[0] || 0;\n        const month = this.getDay(x);\n        if (!month) {\n            return;\n        }\n        if (this.hintDirective) {\n            this.hintDirective.raise(month);\n        }\n        else {\n            this.onHovered(month);\n        }\n    }\n    getContext(index, { value }) {\n        const x = value[index]?.[0] || 0;\n        const day = this.getDay(x);\n        return this.hintDirective && day\n            ? this.hintDirective.getContext(day)\n            : this.getHintContext(x, this.value);\n    }\n    get months() {\n        return this.value.length ? this.breakMonths(this.value) : EMPTY_ARRAY;\n    }\n    get firstWidth() {\n        return this.months.length * (this.value[0]?.[0].daysCount || 0);\n    }\n    getHintContext(x, value) {\n        return value[x - (value[0]?.[0]?.day || 0) + 1] ?? null;\n    }\n    getX(index) {\n        const start = this.value[0]?.[0];\n        const current = this.getDay(index);\n        const months = start && current ? TuiMonth.lengthBetween(start, current) : 0;\n        const offset = months * (current?.daysCount || 0);\n        return index - offset;\n    }\n    getWidth(index) {\n        return (this.getDay(index)?.daysCount || 0) * this.months.length;\n    }\n    breakMonths(value) {\n        const offset = (value[0]?.[0].day || 1) - 1;\n        const start = value[0]?.[0];\n        const end = value[value.length - 1]?.[0];\n        return Array.from({ length: start && end ? TuiMonth.lengthBetween(start, end) + 1 : 0 }, (_, i) => i + (start?.month || 0) + (start?.year || 0) * 12)\n            .map((absoluteMonth) => value\n            .map(([{ month, year }, y], index) => month + year * 12 === absoluteMonth ? [index + offset, y] : null)\n            .filter(tuiIsPresent))\n            .map((month, index, array) => index === array.length - 1\n            ? month\n            : [\n                ...month,\n                array[index + 1]?.find((day) => !Number.isNaN(day[1])) || DUMMY,\n            ]);\n    }\n    getDay(index) {\n        const start = this.value[0]?.[0];\n        return this.value[index - (start?.day || 0) + 1]?.[0];\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiLineDaysChart, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.12\", type: TuiLineDaysChart, isStandalone: true, selector: \"tui-line-days-chart\", inputs: { y: \"y\", height: \"height\", smoothingFactor: \"smoothingFactor\", hintContent: \"hintContent\", xStringify: \"xStringify\", yStringify: \"yStringify\", dots: \"dots\", valueSetter: [\"value\", \"valueSetter\"] }, host: { properties: { \"style.zIndex\": \"zIndex\" } }, providers: [\n            TuiHoveredService,\n            {\n                provide: TuiLineChartHint,\n                useExisting: TuiLineDaysChart,\n            },\n        ], viewQueries: [{ propertyName: \"charts\", predicate: TuiLineChart, descendants: true }], ngImport: i0, template: \"<tui-line-chart\\n    *ngFor=\\\"let month of months; let first = first\\\"\\n    class=\\\"t-chart\\\"\\n    [dots]=\\\"dots\\\"\\n    [height]=\\\"height\\\"\\n    [smoothingFactor]=\\\"smoothingFactor\\\"\\n    [style.zIndex]=\\\"zIndex\\\"\\n    [tuiHintContent]=\\\"hintContent ? hint : ''\\\"\\n    [value]=\\\"month\\\"\\n    [width]=\\\"first ? firstWidth : getWidth(month[0]?.[0] ?? 0)\\\"\\n    [x]=\\\"first ? 0 : getX(month[0]?.[0] ?? 0)\\\"\\n    [xStringify]=\\\"xStringify ? daysStringify : null\\\"\\n    [y]=\\\"y\\\"\\n    [yStringify]=\\\"yStringify\\\"\\n/>\\n<ng-template\\n    #hint\\n    let-point\\n>\\n    <ng-container *polymorpheusOutlet=\\\"hintContent as text; context: {$implicit: getHintContext(point[0], value)}\\\">\\n        {{ text }}\\n    </ng-container>\\n</ng-template>\\n\", styles: [\":host{display:block}.t-chart{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}\\n\"], dependencies: [{ kind: \"directive\", type: NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: PolymorpheusOutlet, selector: \"[polymorpheusOutlet]\", inputs: [\"polymorpheusOutlet\", \"polymorpheusOutletContext\"] }, { kind: \"directive\", type: i1.TuiHintOptionsDirective, selector: \"[tuiHintContent]\", inputs: [\"tuiHintContent\", \"tuiHintDirection\", \"tuiHintAppearance\", \"tuiHintShowDelay\", \"tuiHintHideDelay\"] }, { kind: \"component\", type: TuiLineChart, selector: \"tui-line-chart\", inputs: [\"x\", \"y\", \"width\", \"height\", \"smoothingFactor\", \"xStringify\", \"yStringify\", \"filled\", \"dots\", \"value\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\n__decorate([\n    tuiPure\n], TuiLineDaysChart.prototype, \"getHintContext\", null);\n__decorate([\n    tuiPure\n], TuiLineDaysChart.prototype, \"breakMonths\", null);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiLineDaysChart, decorators: [{\n            type: Component,\n            args: [{ standalone: true, selector: 'tui-line-days-chart', imports: [NgForOf, PolymorpheusOutlet, PolymorpheusTemplate, TuiHint, TuiLineChart], changeDetection: ChangeDetectionStrategy.OnPush, providers: [\n                        TuiHoveredService,\n                        {\n                            provide: TuiLineChartHint,\n                            useExisting: TuiLineDaysChart,\n                        },\n                    ], host: {\n                        '[style.zIndex]': 'zIndex',\n                    }, template: \"<tui-line-chart\\n    *ngFor=\\\"let month of months; let first = first\\\"\\n    class=\\\"t-chart\\\"\\n    [dots]=\\\"dots\\\"\\n    [height]=\\\"height\\\"\\n    [smoothingFactor]=\\\"smoothingFactor\\\"\\n    [style.zIndex]=\\\"zIndex\\\"\\n    [tuiHintContent]=\\\"hintContent ? hint : ''\\\"\\n    [value]=\\\"month\\\"\\n    [width]=\\\"first ? firstWidth : getWidth(month[0]?.[0] ?? 0)\\\"\\n    [x]=\\\"first ? 0 : getX(month[0]?.[0] ?? 0)\\\"\\n    [xStringify]=\\\"xStringify ? daysStringify : null\\\"\\n    [y]=\\\"y\\\"\\n    [yStringify]=\\\"yStringify\\\"\\n/>\\n<ng-template\\n    #hint\\n    let-point\\n>\\n    <ng-container *polymorpheusOutlet=\\\"hintContent as text; context: {$implicit: getHintContext(point[0], value)}\\\">\\n        {{ text }}\\n    </ng-container>\\n</ng-template>\\n\", styles: [\":host{display:block}.t-chart{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}\\n\"] }]\n        }], propDecorators: { charts: [{\n                type: ViewChildren,\n                args: [TuiLineChart]\n            }], y: [{\n                type: Input\n            }], height: [{\n                type: Input\n            }], smoothingFactor: [{\n                type: Input\n            }], hintContent: [{\n                type: Input\n            }], xStringify: [{\n                type: Input\n            }], yStringify: [{\n                type: Input\n            }], dots: [{\n                type: Input\n            }], valueSetter: [{\n                type: Input,\n                args: ['value']\n            }], getHintContext: [], breakMonths: [] } });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLineDaysChart, TuiLineDaysChartHint };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}