{"ast":null,"code":"import { __decorate } from 'tslib';\nimport * as i2 from '@angular/common';\nimport { CommonModule, AsyncPipe } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, EventEmitter, Component, ChangeDetectionStrategy, Input, Output, TemplateRef, ViewEncapsulation, ContentChildren, Directive, forwardRef, ContentChild, Pipe } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { WA_WINDOW } from '@ng-web-apis/common';\nimport { tuiPure, tuiCreateToken, tuiProvideOptions } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { TuiButton } from '@taiga-ui/core/components/button';\nimport { TuiIcon } from '@taiga-ui/core/components/icon';\nimport { TuiLoader } from '@taiga-ui/core/components/loader';\nimport * as i1 from '@taiga-ui/core/directives/appearance';\nimport { tuiAppearanceOptionsProvider, TuiAppearance, TuiWithAppearance } from '@taiga-ui/core/directives/appearance';\nimport { TUI_COMMON_ICONS } from '@taiga-ui/core/tokens';\nimport { TUI_DIGITAL_INFORMATION_UNITS, TUI_FILE_TEXTS, TUI_HIDE_TEXT, TUI_SHOW_ALL_TEXT, TUI_INPUT_FILE_TEXTS } from '@taiga-ui/kit/tokens';\nimport { PolymorpheusOutlet, PolymorpheusTemplate, injectContext, PolymorpheusComponent } from '@taiga-ui/polymorpheus';\nimport { map, of, combineLatest, timer, switchMap, filter } from 'rxjs';\nimport { tuiCreateOptions } from '@taiga-ui/cdk/utils/di';\nimport { coerceArray } from '@angular/cdk/coercion';\nimport { tuiRound } from '@taiga-ui/cdk/utils/math';\nimport { TuiItem } from '@taiga-ui/cdk/directives/item';\nimport { EMPTY_QUERY, EMPTY_ARRAY, CHAR_NO_BREAK_SPACE } from '@taiga-ui/cdk/constants';\nimport { TuiExpandComponent } from '@taiga-ui/core/components/expand';\nimport * as i1$1 from '@taiga-ui/core/directives/group';\nimport { tuiGroupOptionsProvider, TuiGroup } from '@taiga-ui/core/directives/group';\nimport { TuiLink } from '@taiga-ui/core/components/link';\nimport { TuiBreakpointService } from '@taiga-ui/core/services';\nimport { TuiControl, tuiAsControl } from '@taiga-ui/cdk/classes';\nimport * as i1$3 from '@taiga-ui/cdk/directives/native-validator';\nimport { TuiNativeValidator } from '@taiga-ui/cdk/directives/native-validator';\nimport { tuiZonefreeScheduler, tuiControlValue } from '@taiga-ui/cdk/observables';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { Validators, FormControl } from '@angular/forms';\nimport * as i1$2 from '@taiga-ui/cdk/directives/validator';\nimport { TuiValidator } from '@taiga-ui/cdk/directives/validator';\nconst _c0 = [\"*\"];\nconst _c1 = a0 => ({\n  $implicit: a0\n});\nfunction TuiFile_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiFile_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fileSize_r2 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", fileSize_r2, \" \");\n  }\n}\nfunction TuiFile_div_10_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r3, \" \");\n  }\n}\nfunction TuiFile_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtemplate(1, TuiFile_div_10_ng_container_1_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const content_r4 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", content_r4);\n  }\n}\nfunction TuiFile_ng_container_13_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click.prevent\", function TuiFile_ng_container_13_button_1_Template_button_click_prevent_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.remove.emit());\n    })(\"mousedown.prevent.silent\", function TuiFile_ng_container_13_button_1_Template_button_mousedown_prevent_silent_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      return i0.ɵɵresetView(0);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r7 = ctx.ngIf;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"iconStart\", ctx_r5.icons.close);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", texts_r7.remove, \" \");\n  }\n}\nfunction TuiFile_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiFile_ng_container_13_button_1_Template, 2, 2, \"button\", 14);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r5.fileTexts$));\n  }\n}\nfunction TuiFile_ng_template_14_img_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 17);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r5.preview, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction TuiFile_ng_template_14_ng_template_1_tui_loader_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 19);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"inheritColor\", ctx_r5.isBig);\n  }\n}\nfunction TuiFile_ng_template_14_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiFile_ng_template_14_ng_template_1_tui_loader_0_Template, 1, 1, \"tui-loader\", 18);\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const svg_r8 = i0.ɵɵreference(4);\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isLoading)(\"ngIfElse\", svg_r8);\n  }\n}\nfunction TuiFile_ng_template_14_ng_template_3_tui_icon_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-icon\", 21);\n  }\n  if (rf & 2) {\n    const src_r9 = ctx.polymorpheusOutlet;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"t-icon_blank\", ctx_r5.isBig || ctx_r5.isDeleted)(\"t-icon_error\", ctx_r5.isError);\n    i0.ɵɵproperty(\"icon\", src_r9.toString());\n  }\n}\nfunction TuiFile_ng_template_14_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiFile_ng_template_14_ng_template_3_tui_icon_0_Template, 1, 5, \"tui-icon\", 20);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r5.icon)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c1, ctx_r5.size));\n  }\n}\nfunction TuiFile_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiFile_ng_template_14_img_0_Template, 1, 1, \"img\", 16)(1, TuiFile_ng_template_14_ng_template_1_Template, 1, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor)(3, TuiFile_ng_template_14_ng_template_3_Template, 1, 4, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const loader_r10 = i0.ɵɵreference(2);\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.preview)(\"ngIfElse\", loader_r10);\n  }\n}\nfunction TuiFilesComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiFilesComponent_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 5);\n  }\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngTemplateOutlet\", item_r1);\n  }\n}\nfunction TuiFilesComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiFilesComponent_ng_container_3_ng_container_1_Template, 1, 1, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const index_r2 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.max || index_r2 < ctx_r2.max);\n  }\n}\nfunction TuiFilesComponent_tui_expand_4_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 5);\n  }\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngTemplateOutlet\", item_r4);\n  }\n}\nfunction TuiFilesComponent_tui_expand_4_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiFilesComponent_tui_expand_4_ng_container_2_ng_container_1_Template, 1, 1, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const index_r5 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.max && index_r5 >= ctx_r2.max);\n  }\n}\nfunction TuiFilesComponent_tui_expand_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-expand\", 6)(1, \"div\", 7);\n    i0.ɵɵtemplate(2, TuiFilesComponent_tui_expand_4_ng_container_2_Template, 2, 1, \"ng-container\", 1);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"expanded\", ctx_r2.expanded);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.items);\n  }\n}\nfunction TuiFilesComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TuiFilesComponent_div_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggle());\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-bottom_collapsed\", !ctx_r2.expanded);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 3, ctx_r2.expanded ? ctx_r2.hideText$ : ctx_r2.showAllText$), \" \");\n  }\n}\nconst _c2 = [\"tuiInputFiles\", \"\"];\nfunction TuiInputFiles_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nconst TUI_SIZE_ERROR = 'tuiSize';\nconst TUI_FORMAT_ERROR = 'tuiFormat';\nfunction tuiCreateFileSizeValidator(size) {\n  return ({\n    value\n  }) => {\n    const files = value && coerceArray(value);\n    const $implicit = value && files?.filter(file => file.size > size);\n    return $implicit?.length ? {\n      [TUI_SIZE_ERROR]: {\n        $implicit,\n        size\n      }\n    } : null;\n  };\n}\nfunction tuiCreateFileFormatValidator(accept) {\n  return ({\n    value\n  }) => {\n    const files = value && coerceArray(value);\n    const formats = toArray$1(accept);\n    const $implicit = value && files?.filter(file => !checkFormat(file, formats));\n    return $implicit?.length && accept ? {\n      [TUI_FORMAT_ERROR]: {\n        $implicit\n      }\n    } : null;\n  };\n}\nfunction checkFormat({\n  name,\n  type\n}, formats) {\n  const extension = `.${(name.split('.').pop() || '').toLowerCase()}`;\n  return formats.some(format => format === extension || format === type || format.split('/')[1] === '*' && type.split('/')[0] === format.split('/')[0]);\n}\nfunction toArray$1(accept) {\n  return accept.toLowerCase().split(',').map(format => format.trim().toLowerCase());\n}\nconst BYTES_PER_KIB = 1024;\nconst BYTES_PER_MIB = 1024 * BYTES_PER_KIB;\nfunction tuiFilesRejected(control) {\n  const format = control?.getError(TUI_FORMAT_ERROR)?.$implicit || [];\n  const size = control?.getError(TUI_SIZE_ERROR)?.$implicit || [];\n  return Array.from(new Set([...format, ...size]));\n}\nfunction tuiFilesAccepted(control) {\n  const value = control?.value || [];\n  const files = coerceArray(value);\n  const size = control?.getError(TUI_SIZE_ERROR)?.$implicit || [];\n  const format = control?.getError(TUI_FORMAT_ERROR)?.$implicit || [];\n  return files.filter(file => !size.includes(file) && !format.includes(file));\n}\nfunction tuiFormatSize(units, size) {\n  if (size === undefined) {\n    return null;\n  }\n  if (size < BYTES_PER_KIB) {\n    return `${size} ${units[0]}`;\n  }\n  if (size < BYTES_PER_MIB) {\n    return `${(size / BYTES_PER_KIB).toFixed(0)} ${units[1]}`;\n  }\n  return `${tuiRound(size / BYTES_PER_MIB, 2).toLocaleString('ru-RU')} ${units[2]}`;\n}\nconst TUI_FILE_DEFAULT_OPTIONS = {\n  appearance: 'outline',\n  formatSize: tuiFormatSize,\n  icons: {\n    normal: ({\n      $implicit\n    }) => $implicit === 'l' ? '@tui.file' : '@tui.circle-check',\n    error: '@tui.circle-alert',\n    deleted: '@tui.trash'\n  }\n};\n/**\n * Default parameters for file component\n */\nconst [TUI_FILE_OPTIONS, tuiFileOptionsProvider] = tuiCreateOptions(TUI_FILE_DEFAULT_OPTIONS);\nclass TuiFile {\n  constructor() {\n    this.sanitizer = inject(DomSanitizer);\n    this.options = inject(TUI_FILE_OPTIONS);\n    this.units$ = inject(TUI_DIGITAL_INFORMATION_UNITS);\n    this.win = inject(WA_WINDOW);\n    this.icons = inject(TUI_COMMON_ICONS);\n    this.fileTexts$ = inject(TUI_FILE_TEXTS);\n    this.file = {\n      name: ''\n    };\n    this.state = 'normal';\n    this.size = 'm';\n    this.showDelete = true;\n    this.showSize = true;\n    this.remove = new EventEmitter();\n  }\n  get preview() {\n    return this.isBig ? this.createPreview(this.file) : '';\n  }\n  get isBig() {\n    return this.size === 'l';\n  }\n  get isLoading() {\n    return this.state === 'loading';\n  }\n  get isError() {\n    return this.state === 'error';\n  }\n  get isDeleted() {\n    return this.state === 'deleted';\n  }\n  get allowDelete() {\n    return this.showDelete && this.remove.observed;\n  }\n  get icon() {\n    return this.state === 'loading' ? '' : this.options.icons[this.state];\n  }\n  get name() {\n    return this.getName(this.file);\n  }\n  get type() {\n    return this.getType(this.file);\n  }\n  get content$() {\n    return this.calculateContent$(this.state, this.file, this.fileTexts$);\n  }\n  get fileSize$() {\n    return this.calculateFileSize$(this.file, this.units$);\n  }\n  calculateContent$(state, file, fileTexts$) {\n    return state === 'error' && !file.content ? fileTexts$.pipe(map(texts => texts.loadingError)) : of(this.file.content || '');\n  }\n  calculateFileSize$(file, units$) {\n    return units$.pipe(map(units => this.options.formatSize(units, file.size)));\n  }\n  createPreview(file) {\n    if (file.src) {\n      return file.src;\n    }\n    if (this.win.File && file instanceof this.win.File && file.type?.startsWith('image/')) {\n      return this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(file));\n    }\n    return '';\n  }\n  getName(file) {\n    return file.name.split('.').slice(0, -1).join('.');\n  }\n  getType(file) {\n    return `.${file.name.split('.').pop()}` || '';\n  }\n  static {\n    this.ɵfac = function TuiFile_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TuiFile)();\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: TuiFile,\n      selectors: [[\"tui-file\"], [\"a\", \"tuiFile\", \"\"], [\"button\", \"tuiFile\", \"\"]],\n      hostVars: 1,\n      hostBindings: function TuiFile_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.ɵɵattribute(\"data-delete\", ctx.showDelete);\n        }\n      },\n      inputs: {\n        file: \"file\",\n        state: \"state\",\n        size: \"size\",\n        showDelete: \"showDelete\",\n        showSize: \"showSize\",\n        leftContent: \"leftContent\"\n      },\n      outputs: {\n        remove: \"remove\"\n      },\n      standalone: true,\n      features: [i0.ɵɵProvidersFeature([tuiAppearanceOptionsProvider(TUI_FILE_OPTIONS)]), i0.ɵɵHostDirectivesFeature([i1.TuiAppearance]), i0.ɵɵStandaloneFeature],\n      ngContentSelectors: _c0,\n      decls: 16,\n      vars: 12,\n      consts: [[\"defaultLeftContent\", \"\"], [\"loader\", \"\"], [\"svg\", \"\"], [1, \"t-preview\"], [4, \"polymorpheusOutlet\"], [1, \"t-wrapper\"], [1, \"t-text\"], [1, \"t-name\"], [1, \"t-type\"], [\"class\", \"t-size\", 4, \"ngIf\"], [\"class\", \"t-content\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"t-size\"], [1, \"t-content\"], [\"appearance\", \"icon\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", \"class\", \"t-remove\", 3, \"iconStart\", \"click.prevent\", \"mousedown.prevent.silent\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-remove\", 3, \"click.prevent\", \"mousedown.prevent.silent\", \"iconStart\"], [\"alt\", \"file preview\", \"class\", \"t-image\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [\"alt\", \"file preview\", 1, \"t-image\", 3, \"src\"], [\"class\", \"t-loader\", 3, \"inheritColor\", 4, \"ngIf\", \"ngIfElse\"], [1, \"t-loader\", 3, \"inheritColor\"], [\"class\", \"t-icon\", 3, \"t-icon_blank\", \"t-icon_error\", \"icon\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [1, \"t-icon\", 3, \"icon\"]],\n      template: function TuiFile_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef();\n          i0.ɵɵelementStart(0, \"div\", 3);\n          i0.ɵɵtemplate(1, TuiFile_ng_container_1_Template, 2, 1, \"ng-container\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 5)(3, \"div\", 6)(4, \"div\", 7);\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 8);\n          i0.ɵɵtext(7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, TuiFile_div_8_Template, 2, 1, \"div\", 9);\n          i0.ɵɵpipe(9, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(10, TuiFile_div_10_Template, 2, 1, \"div\", 10);\n          i0.ɵɵpipe(11, \"async\");\n          i0.ɵɵprojection(12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(13, TuiFile_ng_container_13_Template, 3, 3, \"ng-container\", 11)(14, TuiFile_ng_template_14_Template, 5, 2, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const defaultLeftContent_r11 = i0.ɵɵreference(15);\n          i0.ɵɵclassProp(\"t-preview_big\", ctx.isBig);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.leftContent || defaultLeftContent_r11);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(ctx.name);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.type);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showSize && i0.ɵɵpipeBind1(9, 8, ctx.fileSize$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 10, ctx.content$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.allowDelete);\n        }\n      },\n      dependencies: [CommonModule, i2.NgIf, i2.AsyncPipe, PolymorpheusOutlet, TuiButton, TuiIcon, TuiLoader],\n      styles: [\"[_nghost-%COMP%]{position:relative;display:flex;align-items:center;font:var(--tui-font-text-m);padding:.625rem 2.25rem .625rem .625rem;text-decoration:none;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:hover   .t-remove[_ngcontent-%COMP%], [data-delete=always][_nghost-%COMP%]   .t-remove[_ngcontent-%COMP%]{opacity:1}.t-preview[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;inline-size:1.5rem;block-size:1.5rem;margin-right:.75rem;border-radius:var(--tui-radius-m);overflow:hidden;color:var(--tui-text-tertiary)}.t-preview_big[_ngcontent-%COMP%]{inline-size:4rem;block-size:4rem;margin-right:1rem}.t-preview_big[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\\\"\\\";background:var(--tui-background-neutral-1)}.t-image[_ngcontent-%COMP%]{max-inline-size:100%;max-block-size:100%}.t-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.t-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;color:var(--tui-status-positive);margin:auto}.t-icon_blank[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}.t-icon_error[_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-remove[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.625rem;right:.625rem}.t-remove[_ngcontent-%COMP%]:focus{opacity:1}.t-remove[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 2px var(--tui-border-focus)}@media (hover: hover) and (pointer: fine){.t-remove[_ngcontent-%COMP%]{opacity:0}}.t-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;overflow:hidden;color:var(--tui-text-primary)}.t-text[_ngcontent-%COMP%]{display:flex}.t-size[_ngcontent-%COMP%]{flex-shrink:0;opacity:var(--tui-disabled-opacity);margin-left:.5rem}.t-type[_ngcontent-%COMP%]{flex-shrink:0}.t-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-negative)}\"],\n      changeDetection: 0\n    });\n  }\n}\n__decorate([tuiPure], TuiFile.prototype, \"calculateContent$\", null);\n__decorate([tuiPure], TuiFile.prototype, \"calculateFileSize$\", null);\n__decorate([tuiPure], TuiFile.prototype, \"createPreview\", null);\n__decorate([tuiPure], TuiFile.prototype, \"getName\", null);\n__decorate([tuiPure], TuiFile.prototype, \"getType\", null);\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiFile, [{\n    type: Component,\n    args: [{\n      standalone: true,\n      selector: 'tui-file,a[tuiFile],button[tuiFile]',\n      imports: [CommonModule, PolymorpheusOutlet, PolymorpheusTemplate, TuiButton, TuiIcon, TuiLoader],\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [tuiAppearanceOptionsProvider(TUI_FILE_OPTIONS)],\n      hostDirectives: [TuiAppearance],\n      host: {\n        '[attr.data-delete]': 'showDelete'\n      },\n      template: \"<div\\n    class=\\\"t-preview\\\"\\n    [class.t-preview_big]=\\\"isBig\\\"\\n>\\n    <ng-container *polymorpheusOutlet=\\\"leftContent || defaultLeftContent as text\\\">\\n        {{ text }}\\n    </ng-container>\\n</div>\\n<div class=\\\"t-wrapper\\\">\\n    <div class=\\\"t-text\\\">\\n        <div class=\\\"t-name\\\">{{ name }}</div>\\n        <div class=\\\"t-type\\\">{{ type }}</div>\\n        <div\\n            *ngIf=\\\"showSize && (fileSize$ | async) as fileSize\\\"\\n            class=\\\"t-size\\\"\\n        >\\n            {{ fileSize }}\\n        </div>\\n    </div>\\n    <div\\n        *ngIf=\\\"content$ | async as content\\\"\\n        class=\\\"t-content\\\"\\n    >\\n        <ng-container *polymorpheusOutlet=\\\"content as text\\\">\\n            {{ text }}\\n        </ng-container>\\n    </div>\\n    <ng-content />\\n</div>\\n<ng-container *ngIf=\\\"allowDelete\\\">\\n    <button\\n        *ngIf=\\\"fileTexts$ | async as texts\\\"\\n        appearance=\\\"icon\\\"\\n        size=\\\"xs\\\"\\n        tuiIconButton\\n        type=\\\"button\\\"\\n        class=\\\"t-remove\\\"\\n        [iconStart]=\\\"icons.close\\\"\\n        (click.prevent)=\\\"remove.emit()\\\"\\n        (mousedown.prevent.silent)=\\\"(0)\\\"\\n    >\\n        {{ texts.remove }}\\n    </button>\\n</ng-container>\\n\\n<ng-template #defaultLeftContent>\\n    <img\\n        *ngIf=\\\"preview; else loader\\\"\\n        alt=\\\"file preview\\\"\\n        class=\\\"t-image\\\"\\n        [src]=\\\"preview\\\"\\n    />\\n    <ng-template #loader>\\n        <tui-loader\\n            *ngIf=\\\"isLoading; else svg\\\"\\n            class=\\\"t-loader\\\"\\n            [inheritColor]=\\\"isBig\\\"\\n        />\\n    </ng-template>\\n    <ng-template #svg>\\n        <tui-icon\\n            *polymorpheusOutlet=\\\"icon as src; context: {$implicit: size}\\\"\\n            class=\\\"t-icon\\\"\\n            [class.t-icon_blank]=\\\"isBig || isDeleted\\\"\\n            [class.t-icon_error]=\\\"isError\\\"\\n            [icon]=\\\"src.toString()\\\"\\n        />\\n    </ng-template>\\n</ng-template>\\n\",\n      styles: [\":host{position:relative;display:flex;align-items:center;font:var(--tui-font-text-m);padding:.625rem 2.25rem .625rem .625rem;text-decoration:none;border-radius:var(--tui-radius-m)}:host:hover .t-remove,:host[data-delete=always] .t-remove{opacity:1}.t-preview{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;inline-size:1.5rem;block-size:1.5rem;margin-right:.75rem;border-radius:var(--tui-radius-m);overflow:hidden;color:var(--tui-text-tertiary)}.t-preview_big{inline-size:4rem;block-size:4rem;margin-right:1rem}.t-preview_big:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\\\"\\\";background:var(--tui-background-neutral-1)}.t-image{max-inline-size:100%;max-block-size:100%}.t-loader{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.t-icon{position:absolute;top:0;left:0;bottom:0;right:0;color:var(--tui-status-positive);margin:auto}.t-icon_blank{color:var(--tui-text-tertiary)}.t-icon_error{color:var(--tui-text-negative)}.t-remove{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.625rem;right:.625rem}.t-remove:focus{opacity:1}.t-remove:focus-visible{box-shadow:inset 0 0 0 2px var(--tui-border-focus)}@media (hover: hover) and (pointer: fine){.t-remove{opacity:0}}.t-wrapper{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;overflow:hidden;color:var(--tui-text-primary)}.t-text{display:flex}.t-size{flex-shrink:0;opacity:var(--tui-disabled-opacity);margin-left:.5rem}.t-type{flex-shrink:0}.t-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-content{font:var(--tui-font-text-s);color:var(--tui-text-negative)}\\n\"]\n    }]\n  }], null, {\n    file: [{\n      type: Input\n    }],\n    state: [{\n      type: Input\n    }],\n    size: [{\n      type: Input\n    }],\n    showDelete: [{\n      type: Input\n    }],\n    showSize: [{\n      type: Input\n    }],\n    leftContent: [{\n      type: Input\n    }],\n    remove: [{\n      type: Output\n    }],\n    calculateContent$: [],\n    calculateFileSize$: [],\n    createPreview: [],\n    getName: [],\n    getType: []\n  });\n})();\nclass TuiFilesComponent {\n  constructor() {\n    this.items = EMPTY_QUERY;\n    this.hideText$ = inject(TUI_HIDE_TEXT);\n    this.showAllText$ = inject(TUI_SHOW_ALL_TEXT);\n    this.max = 0;\n    this.expanded = false;\n    this.expandedChange = new EventEmitter();\n  }\n  get hasExtraItems() {\n    return !!this.max && this.items.length > this.max;\n  }\n  toggle() {\n    this.expanded = !this.expanded;\n    this.expandedChange.emit(this.expanded);\n  }\n  static {\n    this.ɵfac = function TuiFilesComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TuiFilesComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: TuiFilesComponent,\n      selectors: [[\"tui-files\"]],\n      contentQueries: function TuiFilesComponent_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.ɵɵcontentQuery(dirIndex, TuiItem, 4, TemplateRef);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.items = _t);\n        }\n      },\n      inputs: {\n        max: \"max\",\n        expanded: \"expanded\"\n      },\n      outputs: {\n        expandedChange: \"expandedChange\"\n      },\n      standalone: true,\n      features: [i0.ɵɵProvidersFeature([tuiGroupOptionsProvider({\n        size: 'm',\n        collapsed: true,\n        orientation: 'vertical'\n      })]), i0.ɵɵHostDirectivesFeature([i1$1.TuiGroup]), i0.ɵɵStandaloneFeature],\n      ngContentSelectors: _c0,\n      decls: 6,\n      vars: 6,\n      consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"expanded\", 4, \"ngIf\"], [\"class\", \"t-bottom\", 3, \"t-bottom_collapsed\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\"], [3, \"expanded\"], [1, \"t-extra-items\"], [1, \"t-bottom\"], [\"appearance\", \"outline\", \"size\", \"m\", \"tuiButton\", \"\", \"type\", \"button\", 1, \"t-button\", 3, \"click\"]],\n      template: function TuiFilesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef();\n          i0.ɵɵtemplate(0, TuiFilesComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n          i0.ɵɵpipe(1, \"async\");\n          i0.ɵɵprojection(2);\n          i0.ɵɵtemplate(3, TuiFilesComponent_ng_container_3_Template, 2, 1, \"ng-container\", 1)(4, TuiFilesComponent_tui_expand_4_Template, 3, 2, \"tui-expand\", 2)(5, TuiFilesComponent_div_5_Template, 4, 5, \"div\", 3);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 4, ctx.items == null ? null : ctx.items.changes));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.items);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.hasExtraItems);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.hasExtraItems);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.NgTemplateOutlet, i2.AsyncPipe, TuiButton, TuiExpandComponent],\n      styles: [\"tui-files{inline-size:100%;overflow:hidden;border-radius:var(--tui-radius-m)}tui-files .t-files{position:relative;display:block;inline-size:100%;block-size:100%;border-radius:var(--tui-radius-m);overflow:hidden}tui-files .t-button{inline-size:100%;border-radius:inherit}tui-files .t-bottom{z-index:3;inline-size:100%;background:var(--tui-background-base)}tui-files .t-bottom_collapsed{box-shadow:var(--tui-shadow-popup);margin-top:-1.5rem}tui-files .t-extra-items tui-file{border-radius:0;margin-top:0;margin-bottom:-.0625rem}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiFilesComponent, [{\n    type: Component,\n    args: [{\n      standalone: true,\n      selector: 'tui-files',\n      imports: [CommonModule, TuiButton, TuiExpandComponent],\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      providers: [tuiGroupOptionsProvider({\n        size: 'm',\n        collapsed: true,\n        orientation: 'vertical'\n      })],\n      hostDirectives: [TuiGroup],\n      template: \"<ng-container *ngIf=\\\"items?.changes | async\\\" />\\n<ng-content />\\n<ng-container *ngFor=\\\"let item of items; let index = index\\\">\\n    <ng-container\\n        *ngIf=\\\"!max || index < max\\\"\\n        [ngTemplateOutlet]=\\\"item\\\"\\n    />\\n</ng-container>\\n<tui-expand\\n    *ngIf=\\\"hasExtraItems\\\"\\n    [expanded]=\\\"expanded\\\"\\n>\\n    <div class=\\\"t-extra-items\\\">\\n        <ng-container *ngFor=\\\"let item of items; let index = index\\\">\\n            <ng-container\\n                *ngIf=\\\"max && index >= max\\\"\\n                [ngTemplateOutlet]=\\\"item\\\"\\n            />\\n        </ng-container>\\n    </div>\\n</tui-expand>\\n<div\\n    *ngIf=\\\"hasExtraItems\\\"\\n    class=\\\"t-bottom\\\"\\n    [class.t-bottom_collapsed]=\\\"!expanded\\\"\\n>\\n    <button\\n        appearance=\\\"outline\\\"\\n        size=\\\"m\\\"\\n        tuiButton\\n        type=\\\"button\\\"\\n        class=\\\"t-button\\\"\\n        (click)=\\\"toggle()\\\"\\n    >\\n        {{ (expanded ? hideText$ : showAllText$) | async }}\\n    </button>\\n</div>\\n\",\n      styles: [\"tui-files{inline-size:100%;overflow:hidden;border-radius:var(--tui-radius-m)}tui-files .t-files{position:relative;display:block;inline-size:100%;block-size:100%;border-radius:var(--tui-radius-m);overflow:hidden}tui-files .t-button{inline-size:100%;border-radius:inherit}tui-files .t-bottom{z-index:3;inline-size:100%;background:var(--tui-background-base)}tui-files .t-bottom_collapsed{box-shadow:var(--tui-shadow-popup);margin-top:-1.5rem}tui-files .t-extra-items tui-file{border-radius:0;margin-top:0;margin-bottom:-.0625rem}\\n\"]\n    }]\n  }], null, {\n    items: [{\n      type: ContentChildren,\n      args: [TuiItem, {\n        read: TemplateRef\n      }]\n    }],\n    max: [{\n      type: Input\n    }],\n    expanded: [{\n      type: Input\n    }],\n    expandedChange: [{\n      type: Output\n    }]\n  });\n})();\nclass TuiInputFilesContent {\n  constructor() {\n    this.breakpoint$ = inject(TuiBreakpointService);\n    this.text$ = inject(TUI_INPUT_FILE_TEXTS);\n    this.context = injectContext();\n    this.component = inject(TuiInputFiles);\n  }\n  get link$() {\n    return this.computeLink$(this.context.$implicit, !!this.component.input?.input.multiple);\n  }\n  get label$() {\n    return this.computeLabel$(this.context.$implicit, !!this.component.input?.input.multiple);\n  }\n  computeLink$(fileDragged, multiple) {\n    return fileDragged ? of('') : this.text$.pipe(map(t => multiple ? t.defaultLinkMultiple : t.defaultLinkSingle));\n  }\n  computeLabel$(fileDragged, multiple) {\n    return fileDragged ? combineLatest([this.breakpoint$, this.text$]).pipe(map(([breakpoint, text]) => {\n      if (breakpoint === 'mobile') {\n        return '';\n      }\n      return multiple ? text.dropMultiple : text.drop;\n    })) : combineLatest([this.breakpoint$, this.text$]).pipe(map(([breakpoint, text]) => {\n      if (breakpoint === 'mobile') {\n        return '';\n      }\n      return multiple ? text.defaultLabelMultiple : text.defaultLabelSingle;\n    }));\n  }\n  static {\n    this.ɵfac = function TuiInputFilesContent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TuiInputFilesContent)();\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: TuiInputFilesContent,\n      selectors: [[\"ng-component\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 5,\n      vars: 6,\n      consts: [[\"tuiLink\", \"\"]],\n      template: function TuiInputFilesContent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"a\", 0);\n          i0.ɵɵtext(1);\n          i0.ɵɵpipe(2, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(3);\n          i0.ɵɵpipe(4, \"async\");\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 2, ctx.link$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 4, ctx.label$), \" \");\n        }\n      },\n      dependencies: [AsyncPipe, TuiLink],\n      encapsulation: 2\n    });\n  }\n}\n__decorate([tuiPure], TuiInputFilesContent.prototype, \"computeLink$\", null);\n__decorate([tuiPure], TuiInputFilesContent.prototype, \"computeLabel$\", null);\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiInputFilesContent, [{\n    type: Component,\n    args: [{\n      standalone: true,\n      imports: [AsyncPipe, TuiLink],\n      template: `\n        <a tuiLink>{{ link$ | async }}</a>\n        {{ label$ | async }}\n    `,\n      // eslint-disable-next-line @angular-eslint/prefer-on-push-component-change-detection\n      changeDetection: ChangeDetectionStrategy.Default\n    }]\n  }], null, {\n    computeLink$: [],\n    computeLabel$: []\n  });\n})();\nconst TUI_INPUT_FILES_DEFAULT_OPTIONS = {\n  accept: '',\n  multiple: false,\n  size: 'm',\n  maxFileSize: 30 * 1024 * 1024 // 30 MiB\n};\n/**\n * Default parameters for input files component\n */\nconst TUI_INPUT_FILES_OPTIONS = tuiCreateToken(TUI_INPUT_FILES_DEFAULT_OPTIONS);\nfunction tuiInputFilesOptionsProvider(options) {\n  return tuiProvideOptions(TUI_INPUT_FILES_OPTIONS, options, TUI_INPUT_FILES_DEFAULT_OPTIONS);\n}\nclass TuiInputFilesValidator {\n  constructor() {\n    this.options = inject(TUI_INPUT_FILES_OPTIONS);\n    this.validator = inject(TuiValidator);\n    this.accept = this.options.accept;\n    this.maxFileSize = this.options.maxFileSize;\n  }\n  ngOnChanges() {\n    this.validate();\n  }\n  ngOnInit() {\n    this.validate();\n  }\n  validate() {\n    this.validator.tuiValidator = Validators.compose([tuiCreateFileFormatValidator(this.accept), tuiCreateFileSizeValidator(this.maxFileSize)]) || Validators.nullValidator;\n    this.validator.ngOnChanges();\n  }\n  static {\n    this.ɵfac = function TuiInputFilesValidator_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TuiInputFilesValidator)();\n    };\n  }\n  static {\n    this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: TuiInputFilesValidator,\n      hostVars: 1,\n      hostBindings: function TuiInputFilesValidator_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.ɵɵhostProperty(\"accept\", ctx.accept);\n        }\n      },\n      inputs: {\n        accept: \"accept\",\n        maxFileSize: \"maxFileSize\"\n      },\n      exportAs: [\"tuiInputFilesValidator\"],\n      standalone: true,\n      features: [i0.ɵɵHostDirectivesFeature([i1$2.TuiValidator]), i0.ɵɵNgOnChangesFeature]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiInputFilesValidator, [{\n    type: Directive,\n    args: [{\n      standalone: true,\n      exportAs: 'tuiInputFilesValidator',\n      hostDirectives: [TuiValidator],\n      host: {\n        '[accept]': 'accept'\n      }\n    }]\n  }], null, {\n    accept: [{\n      type: Input\n    }],\n    maxFileSize: [{\n      type: Input\n    }]\n  });\n})();\nclass TuiInputFilesDirective extends TuiControl {\n  constructor() {\n    super(...arguments);\n    this.host = inject(forwardRef(() => TuiInputFiles));\n    this.reject = timer(0, tuiZonefreeScheduler()).pipe(switchMap(() => tuiControlValue(this.control.control)), map(() => tuiFilesRejected(this.control.control)), filter(({\n      length\n    }) => !!length));\n    this.appearance = 'file';\n    this.input = tuiInjectElement();\n  }\n  process(files) {\n    const fileOrFiles = this.input.multiple ? [...toArray(this.value()), ...Array.from(files)] : files[0];\n    if (fileOrFiles) {\n      this.onChange(fileOrFiles);\n    }\n  }\n  onClick(event) {\n    if (this.input.readOnly) {\n      event.preventDefault();\n    }\n  }\n  static {\n    this.ɵfac = /* @__PURE__ */(() => {\n      let ɵTuiInputFilesDirective_BaseFactory;\n      return function TuiInputFilesDirective_Factory(__ngFactoryType__) {\n        return (ɵTuiInputFilesDirective_BaseFactory || (ɵTuiInputFilesDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiInputFilesDirective)))(__ngFactoryType__ || TuiInputFilesDirective);\n      };\n    })();\n  }\n  static {\n    this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: TuiInputFilesDirective,\n      selectors: [[\"input\", \"tuiInputFiles\", \"\"]],\n      hostAttrs: [\"type\", \"file\"],\n      hostVars: 1,\n      hostBindings: function TuiInputFilesDirective_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"blur\", function TuiInputFilesDirective_blur_HostBindingHandler() {\n            return ctx.onTouched();\n          })(\"click\", function TuiInputFilesDirective_click_HostBindingHandler($event) {\n            return ctx.onClick($event);\n          });\n        }\n        if (rf & 2) {\n          i0.ɵɵhostProperty(\"disabled\", ctx.disabled());\n        }\n      },\n      outputs: {\n        reject: \"reject\"\n      },\n      standalone: true,\n      features: [i0.ɵɵProvidersFeature([tuiAsControl(TuiInputFilesDirective), tuiAppearanceOptionsProvider(TuiInputFilesDirective)]), i0.ɵɵHostDirectivesFeature([i1$3.TuiNativeValidator, i1.TuiWithAppearance, {\n        directive: TuiInputFilesValidator,\n        inputs: [\"accept\", \"accept\", \"maxFileSize\", \"maxFileSize\"]\n      }]), i0.ɵɵInheritDefinitionFeature]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiInputFilesDirective, [{\n    type: Directive,\n    args: [{\n      standalone: true,\n      selector: 'input[tuiInputFiles]',\n      providers: [tuiAsControl(TuiInputFilesDirective), tuiAppearanceOptionsProvider(TuiInputFilesDirective)],\n      hostDirectives: [TuiNativeValidator, TuiWithAppearance, {\n        directive: TuiInputFilesValidator,\n        inputs: ['accept', 'maxFileSize']\n      }],\n      host: {\n        type: 'file',\n        '[disabled]': 'disabled()',\n        '(blur)': 'onTouched()',\n        '(click)': 'onClick($event)'\n      }\n    }]\n  }], null, {\n    reject: [{\n      type: Output\n    }]\n  });\n})();\nfunction toArray(value) {\n  return value ? coerceArray(value) : EMPTY_ARRAY;\n}\nclass TuiInputFiles {\n  constructor() {\n    this.content = new PolymorpheusComponent(TuiInputFilesContent);\n  }\n  get fileDragged() {\n    return !!this.files && !this.input?.disabled();\n  }\n  onFilesSelected(input) {\n    if (!input?.files) {\n      return;\n    }\n    this.input?.process(input.files);\n    input.value = '';\n  }\n  onDropped({\n    dataTransfer\n  }) {\n    this.files = null;\n    if (dataTransfer?.files && !this.input?.disabled()) {\n      this.input?.process(dataTransfer.files);\n    }\n  }\n  onDrag(dataTransfer) {\n    this.files = dataTransfer?.files;\n  }\n  static {\n    this.ɵfac = function TuiInputFiles_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TuiInputFiles)();\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: TuiInputFiles,\n      selectors: [[\"label\", \"tuiInputFiles\", \"\"]],\n      contentQueries: function TuiInputFiles_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.ɵɵcontentQuery(dirIndex, TemplateRef, 5);\n          i0.ɵɵcontentQuery(dirIndex, TuiInputFilesDirective, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.template = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n        }\n      },\n      hostVars: 2,\n      hostBindings: function TuiInputFiles_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"dragover.prevent.silent\", function TuiInputFiles_dragover_prevent_silent_HostBindingHandler() {\n            return 0;\n          })(\"drop.prevent\", function TuiInputFiles_drop_prevent_HostBindingHandler($event) {\n            return ctx.onDropped($event);\n          })(\"dragenter\", function TuiInputFiles_dragenter_HostBindingHandler($event) {\n            return ctx.onDrag($event.dataTransfer);\n          })(\"dragleave\", function TuiInputFiles_dragleave_HostBindingHandler() {\n            return ctx.onDrag(null);\n          })(\"change\", function TuiInputFiles_change_HostBindingHandler($event) {\n            return ctx.onFilesSelected($event.target);\n          });\n        }\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"_dragged\", ctx.fileDragged);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      attrs: _c2,\n      ngContentSelectors: _c0,\n      decls: 2,\n      vars: 4,\n      consts: [[4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"]],\n      template: function TuiInputFiles_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef();\n          i0.ɵɵprojection(0);\n          i0.ɵɵtemplate(1, TuiInputFiles_span_1_Template, 2, 1, \"span\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.template || ctx.content)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c1, ctx.fileDragged));\n        }\n      },\n      dependencies: [PolymorpheusOutlet],\n      styles: [\"label[tuiInputFiles]{position:relative;display:flex;min-block-size:var(--tui-height-l);justify-content:center;align-items:center;text-align:center;border-radius:var(--tui-radius-m);font:var(--tui-font-text-m);overflow-wrap:break-word;padding:0 .5rem}label[tuiInputFiles]>:not(input){position:relative;pointer-events:none}label[tuiInputFiles] input{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;color:transparent;cursor:pointer}label[tuiInputFiles] input:disabled~*{opacity:var(--tui-disabled-opacity)}label[tuiInputFiles] input::-webkit-file-upload-button{display:none}label[tuiInputFiles] input::file-selector-button{display:none}*:disabled label[tuiInputFiles]{pointer-events:none}[tuiAppearance][data-appearance=file]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;border-radius:inherit;box-sizing:border-box;border:1px dashed var(--tui-text-action);outline:none}tui-root._mobile [tuiAppearance][data-appearance=file]{border-style:solid}[tuiInputFiles]._dragged [tuiAppearance][data-appearance=file]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover){[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}@media (hover: hover){[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover){[tuiAppearance][data-appearance=file][tuiWrapper]:hover:not(._no-hover),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][data-state=active]{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][tuiWrapper]:active:not(._no-active),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active],[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active]:hover{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file]:focus-visible:not([data-focus=false]){border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][data-focus=true]{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][data-appearance=file][tuiWrapper]._focused{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file]:invalid{border-color:var(--tui-status-negative)!important}\\n\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiInputFiles, [{\n    type: Component,\n    args: [{\n      standalone: true,\n      selector: 'label[tuiInputFiles]',\n      imports: [PolymorpheusOutlet, PolymorpheusTemplate],\n      template: `\n        <ng-content></ng-content>\n        <span\n            *polymorpheusOutlet=\"\n                template || content as text;\n                context: {$implicit: fileDragged}\n            \"\n        >\n            {{ text }}\n        </span>\n    `,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      host: {\n        '(dragover.prevent.silent)': '0',\n        '(drop.prevent)': 'onDropped($event)',\n        '(dragenter)': 'onDrag($event.dataTransfer)',\n        '(dragleave)': 'onDrag(null)',\n        '[class._dragged]': 'fileDragged',\n        '(change)': 'onFilesSelected($event.target)'\n      },\n      styles: [\"label[tuiInputFiles]{position:relative;display:flex;min-block-size:var(--tui-height-l);justify-content:center;align-items:center;text-align:center;border-radius:var(--tui-radius-m);font:var(--tui-font-text-m);overflow-wrap:break-word;padding:0 .5rem}label[tuiInputFiles]>:not(input){position:relative;pointer-events:none}label[tuiInputFiles] input{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;color:transparent;cursor:pointer}label[tuiInputFiles] input:disabled~*{opacity:var(--tui-disabled-opacity)}label[tuiInputFiles] input::-webkit-file-upload-button{display:none}label[tuiInputFiles] input::file-selector-button{display:none}*:disabled label[tuiInputFiles]{pointer-events:none}[tuiAppearance][data-appearance=file]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;border-radius:inherit;box-sizing:border-box;border:1px dashed var(--tui-text-action);outline:none}tui-root._mobile [tuiAppearance][data-appearance=file]{border-style:solid}[tuiInputFiles]._dragged [tuiAppearance][data-appearance=file]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover){[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}@media (hover: hover){[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover){[tuiAppearance][data-appearance=file][tuiWrapper]:hover:not(._no-hover),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][data-state=active]{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][tuiWrapper]:active:not(._no-active),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active],[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active]:hover{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file]:focus-visible:not([data-focus=false]){border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][data-focus=true]{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][data-appearance=file][tuiWrapper]._focused{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file]:invalid{border-color:var(--tui-status-negative)!important}\\n\"]\n    }]\n  }], null, {\n    template: [{\n      type: ContentChild,\n      args: [TemplateRef]\n    }],\n    input: [{\n      type: ContentChild,\n      args: [TuiInputFilesDirective]\n    }]\n  });\n})();\nclass TuiFileRejectedPipe {\n  constructor() {\n    this.options = inject(TUI_INPUT_FILES_OPTIONS);\n    this.formatSize = inject(TUI_FILE_OPTIONS).formatSize;\n    this.text$ = inject(TUI_INPUT_FILE_TEXTS);\n    this.unit$ = inject(TUI_DIGITAL_INFORMATION_UNITS);\n  }\n  transform(file, {\n    accept = this.options.accept,\n    maxFileSize = this.options.maxFileSize\n  } = this.options) {\n    const sizeValidator = tuiCreateFileSizeValidator(maxFileSize);\n    const formatValidator = tuiCreateFileFormatValidator(accept);\n    const control = new FormControl(file);\n    return combineLatest([this.text$, this.unit$]).pipe(map(([{\n      maxSizeRejectionReason,\n      formatRejectionReason\n    }, units]) => {\n      if (file && formatValidator(control)) {\n        return {\n          name: file.name,\n          size: file.size,\n          content: formatRejectionReason\n        };\n      }\n      if (file && sizeValidator(control)) {\n        return {\n          name: file.name,\n          size: file.size,\n          content: `${maxSizeRejectionReason}${CHAR_NO_BREAK_SPACE}${this.formatSize(units, maxFileSize)}`\n        };\n      }\n      return null;\n    }));\n  }\n  static {\n    this.ɵfac = function TuiFileRejectedPipe_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TuiFileRejectedPipe)();\n    };\n  }\n  static {\n    this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n      name: \"tuiFileRejected\",\n      type: TuiFileRejectedPipe,\n      pure: true,\n      standalone: true\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(TuiFileRejectedPipe, [{\n    type: Pipe,\n    args: [{\n      standalone: true,\n      name: 'tuiFileRejected'\n    }]\n  }], null, null);\n})();\nconst TuiFiles = [TuiItem, TuiFile, TuiInputFiles, TuiFilesComponent, TuiFileRejectedPipe, TuiInputFilesDirective];\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_FILE_DEFAULT_OPTIONS, TUI_FILE_OPTIONS, TUI_FORMAT_ERROR, TUI_INPUT_FILES_DEFAULT_OPTIONS, TUI_INPUT_FILES_OPTIONS, TUI_SIZE_ERROR, TuiFile, TuiFileRejectedPipe, TuiFiles, TuiFilesComponent, TuiInputFiles, TuiInputFilesContent, TuiInputFilesDirective, TuiInputFilesValidator, tuiCreateFileFormatValidator, tuiCreateFileSizeValidator, tuiFileOptionsProvider, tuiFilesAccepted, tuiFilesRejected, tuiFormatSize, tuiInputFilesOptionsProvider };","map":{"version":3,"names":["__decorate","i2","CommonModule","AsyncPipe","i0","inject","EventEmitter","Component","ChangeDetectionStrategy","Input","Output","TemplateRef","ViewEncapsulation","ContentChildren","Directive","forwardRef","ContentChild","Pipe","DomSanitizer","WA_WINDOW","tuiPure","tuiCreateToken","tuiProvideOptions","TuiButton","TuiIcon","TuiLoader","i1","tuiAppearanceOptionsProvider","TuiAppearance","TuiWithAppearance","TUI_COMMON_ICONS","TUI_DIGITAL_INFORMATION_UNITS","TUI_FILE_TEXTS","TUI_HIDE_TEXT","TUI_SHOW_ALL_TEXT","TUI_INPUT_FILE_TEXTS","PolymorpheusOutlet","PolymorpheusTemplate","injectContext","PolymorpheusComponent","map","of","combineLatest","timer","switchMap","filter","tuiCreateOptions","coerceArray","tuiRound","TuiItem","EMPTY_QUERY","EMPTY_ARRAY","CHAR_NO_BREAK_SPACE","TuiExpandComponent","i1$1","tuiGroupOptionsProvider","TuiGroup","TuiLink","TuiBreakpointService","TuiControl","tuiAsControl","i1$3","TuiNativeValidator","tuiZonefreeScheduler","tuiControlValue","tuiInjectElement","Validators","FormControl","i1$2","TuiValidator","_c0","_c1","a0","$implicit","TuiFile_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r1","polymorpheusOutlet","ɵɵadvance","ɵɵtextInterpolate1","TuiFile_div_8_Template","ɵɵelementStart","ɵɵelementEnd","fileSize_r2","ngIf","TuiFile_div_10_ng_container_1_Template","text_r3","TuiFile_div_10_Template","ɵɵtemplate","content_r4","ɵɵproperty","TuiFile_ng_container_13_button_1_Template","_r5","ɵɵgetCurrentView","ɵɵlistener","TuiFile_ng_container_13_button_1_Template_button_click_prevent_0_listener","ɵɵrestoreView","ctx_r5","ɵɵnextContext","ɵɵresetView","remove","emit","TuiFile_ng_container_13_button_1_Template_button_mousedown_prevent_silent_0_listener","texts_r7","icons","close","TuiFile_ng_container_13_Template","ɵɵpipe","ɵɵpipeBind1","fileTexts$","TuiFile_ng_template_14_img_0_Template","ɵɵelement","preview","ɵɵsanitizeUrl","TuiFile_ng_template_14_ng_template_1_tui_loader_0_Template","isBig","TuiFile_ng_template_14_ng_template_1_Template","svg_r8","ɵɵreference","isLoading","TuiFile_ng_template_14_ng_template_3_tui_icon_0_Template","src_r9","ɵɵclassProp","isDeleted","isError","toString","TuiFile_ng_template_14_ng_template_3_Template","icon","ɵɵpureFunction1","size","TuiFile_ng_template_14_Template","ɵɵtemplateRefExtractor","loader_r10","TuiFilesComponent_ng_container_0_Template","ɵɵelementContainer","TuiFilesComponent_ng_container_3_ng_container_1_Template","item_r1","TuiFilesComponent_ng_container_3_Template","index_r2","index","ctx_r2","max","TuiFilesComponent_tui_expand_4_ng_container_2_ng_container_1_Template","item_r4","TuiFilesComponent_tui_expand_4_ng_container_2_Template","index_r5","TuiFilesComponent_tui_expand_4_Template","expanded","items","TuiFilesComponent_div_5_Template","_r6","TuiFilesComponent_div_5_Template_button_click_1_listener","toggle","hideText$","showAllText$","_c2","TuiInputFiles_span_1_Template","TUI_SIZE_ERROR","TUI_FORMAT_ERROR","tuiCreateFileSizeValidator","value","files","file","length","tuiCreateFileFormatValidator","accept","formats","toArray$1","checkFormat","name","type","extension","split","pop","toLowerCase","some","format","trim","BYTES_PER_KIB","BYTES_PER_MIB","tuiFilesRejected","control","getError","Array","from","Set","tuiFilesAccepted","includes","tuiFormatSize","units","undefined","toFixed","toLocaleString","TUI_FILE_DEFAULT_OPTIONS","appearance","formatSize","normal","error","deleted","TUI_FILE_OPTIONS","tuiFileOptionsProvider","TuiFile","constructor","sanitizer","options","units$","win","state","showDelete","showSize","createPreview","allowDelete","observed","getName","getType","content$","calculateContent$","fileSize$","calculateFileSize$","content","pipe","texts","loadingError","src","File","startsWith","bypassSecurityTrustUrl","URL","createObjectURL","slice","join","ɵfac","TuiFile_Factory","__ngFactoryType__","ɵcmp","ɵɵdefineComponent","selectors","hostVars","hostBindings","TuiFile_HostBindings","ɵɵattribute","inputs","leftContent","outputs","standalone","features","ɵɵProvidersFeature","ɵɵHostDirectivesFeature","ɵɵStandaloneFeature","ngContentSelectors","decls","vars","consts","template","TuiFile_Template","ɵɵprojectionDef","ɵɵprojection","defaultLeftContent_r11","ɵɵtextInterpolate","dependencies","NgIf","styles","changeDetection","prototype","ngDevMode","ɵsetClassMetadata","args","selector","imports","OnPush","providers","hostDirectives","host","TuiFilesComponent","expandedChange","hasExtraItems","TuiFilesComponent_Factory","contentQueries","TuiFilesComponent_ContentQueries","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","collapsed","orientation","TuiFilesComponent_Template","changes","NgForOf","NgTemplateOutlet","encapsulation","None","read","TuiInputFilesContent","breakpoint$","text$","context","component","TuiInputFiles","link$","computeLink$","input","multiple","label$","computeLabel$","fileDragged","t","defaultLinkMultiple","defaultLinkSingle","breakpoint","text","dropMultiple","drop","defaultLabelMultiple","defaultLabelSingle","TuiInputFilesContent_Factory","TuiInputFilesContent_Template","Default","TUI_INPUT_FILES_DEFAULT_OPTIONS","maxFileSize","TUI_INPUT_FILES_OPTIONS","tuiInputFilesOptionsProvider","TuiInputFilesValidator","validator","ngOnChanges","validate","ngOnInit","tuiValidator","compose","nullValidator","TuiInputFilesValidator_Factory","ɵdir","ɵɵdefineDirective","TuiInputFilesValidator_HostBindings","ɵɵhostProperty","exportAs","ɵɵNgOnChangesFeature","TuiInputFilesDirective","arguments","reject","process","fileOrFiles","toArray","onChange","onClick","event","readOnly","preventDefault","ɵTuiInputFilesDirective_BaseFactory","TuiInputFilesDirective_Factory","ɵɵgetInheritedFactory","hostAttrs","TuiInputFilesDirective_HostBindings","TuiInputFilesDirective_blur_HostBindingHandler","onTouched","TuiInputFilesDirective_click_HostBindingHandler","$event","disabled","directive","ɵɵInheritDefinitionFeature","onFilesSelected","onDropped","dataTransfer","onDrag","TuiInputFiles_Factory","TuiInputFiles_ContentQueries","first","TuiInputFiles_HostBindings","TuiInputFiles_dragover_prevent_silent_HostBindingHandler","TuiInputFiles_drop_prevent_HostBindingHandler","TuiInputFiles_dragenter_HostBindingHandler","TuiInputFiles_dragleave_HostBindingHandler","TuiInputFiles_change_HostBindingHandler","target","attrs","TuiInputFiles_Template","TuiFileRejectedPipe","unit$","transform","sizeValidator","formatValidator","maxSizeRejectionReason","formatRejectionReason","TuiFileRejectedPipe_Factory","ɵpipe","ɵɵdefinePipe","pure","TuiFiles"],"sources":["C:/Users/Asus-PC/Downloads/WebLibraryNew/WebLibrary/WebLibraryApp/Frontend/node_modules/@taiga-ui/kit/fesm2022/taiga-ui-kit-components-files.mjs"],"sourcesContent":["import { __decorate } from 'tslib';\nimport * as i2 from '@angular/common';\nimport { CommonModule, AsyncPipe } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, EventEmitter, Component, ChangeDetectionStrategy, Input, Output, TemplateRef, ViewEncapsulation, ContentChildren, Directive, forwardRef, ContentChild, Pipe } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { WA_WINDOW } from '@ng-web-apis/common';\nimport { tuiPure, tuiCreateToken, tuiProvideOptions } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { TuiButton } from '@taiga-ui/core/components/button';\nimport { TuiIcon } from '@taiga-ui/core/components/icon';\nimport { TuiLoader } from '@taiga-ui/core/components/loader';\nimport * as i1 from '@taiga-ui/core/directives/appearance';\nimport { tuiAppearanceOptionsProvider, TuiAppearance, TuiWithAppearance } from '@taiga-ui/core/directives/appearance';\nimport { TUI_COMMON_ICONS } from '@taiga-ui/core/tokens';\nimport { TUI_DIGITAL_INFORMATION_UNITS, TUI_FILE_TEXTS, TUI_HIDE_TEXT, TUI_SHOW_ALL_TEXT, TUI_INPUT_FILE_TEXTS } from '@taiga-ui/kit/tokens';\nimport { PolymorpheusOutlet, PolymorpheusTemplate, injectContext, PolymorpheusComponent } from '@taiga-ui/polymorpheus';\nimport { map, of, combineLatest, timer, switchMap, filter } from 'rxjs';\nimport { tuiCreateOptions } from '@taiga-ui/cdk/utils/di';\nimport { coerceArray } from '@angular/cdk/coercion';\nimport { tuiRound } from '@taiga-ui/cdk/utils/math';\nimport { TuiItem } from '@taiga-ui/cdk/directives/item';\nimport { EMPTY_QUERY, EMPTY_ARRAY, CHAR_NO_BREAK_SPACE } from '@taiga-ui/cdk/constants';\nimport { TuiExpandComponent } from '@taiga-ui/core/components/expand';\nimport * as i1$1 from '@taiga-ui/core/directives/group';\nimport { tuiGroupOptionsProvider, TuiGroup } from '@taiga-ui/core/directives/group';\nimport { TuiLink } from '@taiga-ui/core/components/link';\nimport { TuiBreakpointService } from '@taiga-ui/core/services';\nimport { TuiControl, tuiAsControl } from '@taiga-ui/cdk/classes';\nimport * as i1$3 from '@taiga-ui/cdk/directives/native-validator';\nimport { TuiNativeValidator } from '@taiga-ui/cdk/directives/native-validator';\nimport { tuiZonefreeScheduler, tuiControlValue } from '@taiga-ui/cdk/observables';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { Validators, FormControl } from '@angular/forms';\nimport * as i1$2 from '@taiga-ui/cdk/directives/validator';\nimport { TuiValidator } from '@taiga-ui/cdk/directives/validator';\n\nconst TUI_SIZE_ERROR = 'tuiSize';\nconst TUI_FORMAT_ERROR = 'tuiFormat';\nfunction tuiCreateFileSizeValidator(size) {\n    return ({ value }) => {\n        const files = value && coerceArray(value);\n        const $implicit = value && files?.filter((file) => file.size > size);\n        return $implicit?.length ? { [TUI_SIZE_ERROR]: { $implicit, size } } : null;\n    };\n}\nfunction tuiCreateFileFormatValidator(accept) {\n    return ({ value }) => {\n        const files = value && coerceArray(value);\n        const formats = toArray$1(accept);\n        const $implicit = value && files?.filter((file) => !checkFormat(file, formats));\n        return $implicit?.length && accept ? { [TUI_FORMAT_ERROR]: { $implicit } } : null;\n    };\n}\nfunction checkFormat({ name, type }, formats) {\n    const extension = `.${(name.split('.').pop() || '').toLowerCase()}`;\n    return formats.some((format) => format === extension ||\n        format === type ||\n        (format.split('/')[1] === '*' && type.split('/')[0] === format.split('/')[0]));\n}\nfunction toArray$1(accept) {\n    return accept\n        .toLowerCase()\n        .split(',')\n        .map((format) => format.trim().toLowerCase());\n}\n\nconst BYTES_PER_KIB = 1024;\nconst BYTES_PER_MIB = 1024 * BYTES_PER_KIB;\nfunction tuiFilesRejected(control) {\n    const format = control?.getError(TUI_FORMAT_ERROR)?.$implicit || [];\n    const size = control?.getError(TUI_SIZE_ERROR)?.$implicit || [];\n    return Array.from(new Set([...format, ...size]));\n}\nfunction tuiFilesAccepted(control) {\n    const value = control?.value || [];\n    const files = coerceArray(value);\n    const size = control?.getError(TUI_SIZE_ERROR)?.$implicit || [];\n    const format = control?.getError(TUI_FORMAT_ERROR)?.$implicit || [];\n    return files.filter((file) => !size.includes(file) && !format.includes(file));\n}\nfunction tuiFormatSize(units, size) {\n    if (size === undefined) {\n        return null;\n    }\n    if (size < BYTES_PER_KIB) {\n        return `${size} ${units[0]}`;\n    }\n    if (size < BYTES_PER_MIB) {\n        return `${(size / BYTES_PER_KIB).toFixed(0)} ${units[1]}`;\n    }\n    return `${tuiRound(size / BYTES_PER_MIB, 2).toLocaleString('ru-RU')} ${units[2]}`;\n}\n\nconst TUI_FILE_DEFAULT_OPTIONS = {\n    appearance: 'outline',\n    formatSize: tuiFormatSize,\n    icons: {\n        normal: ({ $implicit }) => ($implicit === 'l' ? '@tui.file' : '@tui.circle-check'),\n        error: '@tui.circle-alert',\n        deleted: '@tui.trash',\n    },\n};\n/**\n * Default parameters for file component\n */\nconst [TUI_FILE_OPTIONS, tuiFileOptionsProvider] = tuiCreateOptions(TUI_FILE_DEFAULT_OPTIONS);\n\nclass TuiFile {\n    constructor() {\n        this.sanitizer = inject(DomSanitizer);\n        this.options = inject(TUI_FILE_OPTIONS);\n        this.units$ = inject(TUI_DIGITAL_INFORMATION_UNITS);\n        this.win = inject(WA_WINDOW);\n        this.icons = inject(TUI_COMMON_ICONS);\n        this.fileTexts$ = inject(TUI_FILE_TEXTS);\n        this.file = { name: '' };\n        this.state = 'normal';\n        this.size = 'm';\n        this.showDelete = true;\n        this.showSize = true;\n        this.remove = new EventEmitter();\n    }\n    get preview() {\n        return this.isBig ? this.createPreview(this.file) : '';\n    }\n    get isBig() {\n        return this.size === 'l';\n    }\n    get isLoading() {\n        return this.state === 'loading';\n    }\n    get isError() {\n        return this.state === 'error';\n    }\n    get isDeleted() {\n        return this.state === 'deleted';\n    }\n    get allowDelete() {\n        return this.showDelete && this.remove.observed;\n    }\n    get icon() {\n        return this.state === 'loading' ? '' : this.options.icons[this.state];\n    }\n    get name() {\n        return this.getName(this.file);\n    }\n    get type() {\n        return this.getType(this.file);\n    }\n    get content$() {\n        return this.calculateContent$(this.state, this.file, this.fileTexts$);\n    }\n    get fileSize$() {\n        return this.calculateFileSize$(this.file, this.units$);\n    }\n    calculateContent$(state, file, fileTexts$) {\n        return state === 'error' && !file.content\n            ? fileTexts$.pipe(map((texts) => texts.loadingError))\n            : of(this.file.content || '');\n    }\n    calculateFileSize$(file, units$) {\n        return units$.pipe(map((units) => this.options.formatSize(units, file.size)));\n    }\n    createPreview(file) {\n        if (file.src) {\n            return file.src;\n        }\n        if (this.win.File &&\n            file instanceof this.win.File &&\n            file.type?.startsWith('image/')) {\n            return this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(file));\n        }\n        return '';\n    }\n    getName(file) {\n        return file.name.split('.').slice(0, -1).join('.');\n    }\n    getType(file) {\n        return `.${file.name.split('.').pop()}` || '';\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiFile, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.12\", type: TuiFile, isStandalone: true, selector: \"tui-file,a[tuiFile],button[tuiFile]\", inputs: { file: \"file\", state: \"state\", size: \"size\", showDelete: \"showDelete\", showSize: \"showSize\", leftContent: \"leftContent\" }, outputs: { remove: \"remove\" }, host: { properties: { \"attr.data-delete\": \"showDelete\" } }, providers: [tuiAppearanceOptionsProvider(TUI_FILE_OPTIONS)], hostDirectives: [{ directive: i1.TuiAppearance }], ngImport: i0, template: \"<div\\n    class=\\\"t-preview\\\"\\n    [class.t-preview_big]=\\\"isBig\\\"\\n>\\n    <ng-container *polymorpheusOutlet=\\\"leftContent || defaultLeftContent as text\\\">\\n        {{ text }}\\n    </ng-container>\\n</div>\\n<div class=\\\"t-wrapper\\\">\\n    <div class=\\\"t-text\\\">\\n        <div class=\\\"t-name\\\">{{ name }}</div>\\n        <div class=\\\"t-type\\\">{{ type }}</div>\\n        <div\\n            *ngIf=\\\"showSize && (fileSize$ | async) as fileSize\\\"\\n            class=\\\"t-size\\\"\\n        >\\n            {{ fileSize }}\\n        </div>\\n    </div>\\n    <div\\n        *ngIf=\\\"content$ | async as content\\\"\\n        class=\\\"t-content\\\"\\n    >\\n        <ng-container *polymorpheusOutlet=\\\"content as text\\\">\\n            {{ text }}\\n        </ng-container>\\n    </div>\\n    <ng-content />\\n</div>\\n<ng-container *ngIf=\\\"allowDelete\\\">\\n    <button\\n        *ngIf=\\\"fileTexts$ | async as texts\\\"\\n        appearance=\\\"icon\\\"\\n        size=\\\"xs\\\"\\n        tuiIconButton\\n        type=\\\"button\\\"\\n        class=\\\"t-remove\\\"\\n        [iconStart]=\\\"icons.close\\\"\\n        (click.prevent)=\\\"remove.emit()\\\"\\n        (mousedown.prevent.silent)=\\\"(0)\\\"\\n    >\\n        {{ texts.remove }}\\n    </button>\\n</ng-container>\\n\\n<ng-template #defaultLeftContent>\\n    <img\\n        *ngIf=\\\"preview; else loader\\\"\\n        alt=\\\"file preview\\\"\\n        class=\\\"t-image\\\"\\n        [src]=\\\"preview\\\"\\n    />\\n    <ng-template #loader>\\n        <tui-loader\\n            *ngIf=\\\"isLoading; else svg\\\"\\n            class=\\\"t-loader\\\"\\n            [inheritColor]=\\\"isBig\\\"\\n        />\\n    </ng-template>\\n    <ng-template #svg>\\n        <tui-icon\\n            *polymorpheusOutlet=\\\"icon as src; context: {$implicit: size}\\\"\\n            class=\\\"t-icon\\\"\\n            [class.t-icon_blank]=\\\"isBig || isDeleted\\\"\\n            [class.t-icon_error]=\\\"isError\\\"\\n            [icon]=\\\"src.toString()\\\"\\n        />\\n    </ng-template>\\n</ng-template>\\n\", styles: [\":host{position:relative;display:flex;align-items:center;font:var(--tui-font-text-m);padding:.625rem 2.25rem .625rem .625rem;text-decoration:none;border-radius:var(--tui-radius-m)}:host:hover .t-remove,:host[data-delete=always] .t-remove{opacity:1}.t-preview{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;inline-size:1.5rem;block-size:1.5rem;margin-right:.75rem;border-radius:var(--tui-radius-m);overflow:hidden;color:var(--tui-text-tertiary)}.t-preview_big{inline-size:4rem;block-size:4rem;margin-right:1rem}.t-preview_big:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\\\"\\\";background:var(--tui-background-neutral-1)}.t-image{max-inline-size:100%;max-block-size:100%}.t-loader{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.t-icon{position:absolute;top:0;left:0;bottom:0;right:0;color:var(--tui-status-positive);margin:auto}.t-icon_blank{color:var(--tui-text-tertiary)}.t-icon_error{color:var(--tui-text-negative)}.t-remove{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.625rem;right:.625rem}.t-remove:focus{opacity:1}.t-remove:focus-visible{box-shadow:inset 0 0 0 2px var(--tui-border-focus)}@media (hover: hover) and (pointer: fine){.t-remove{opacity:0}}.t-wrapper{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;overflow:hidden;color:var(--tui-text-primary)}.t-text{display:flex}.t-size{flex-shrink:0;opacity:var(--tui-disabled-opacity);margin-left:.5rem}.t-type{flex-shrink:0}.t-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-content{font:var(--tui-font-text-s);color:var(--tui-text-negative)}\\n\"], dependencies: [{ kind: \"ngmodule\", type: CommonModule }, { kind: \"directive\", type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"pipe\", type: i2.AsyncPipe, name: \"async\" }, { kind: \"directive\", type: PolymorpheusOutlet, selector: \"[polymorpheusOutlet]\", inputs: [\"polymorpheusOutlet\", \"polymorpheusOutletContext\"] }, { kind: \"directive\", type: TuiButton, selector: \"a[tuiButton],button[tuiButton],a[tuiIconButton],button[tuiIconButton]\", inputs: [\"size\"] }, { kind: \"component\", type: TuiIcon, selector: \"tui-icon\", inputs: [\"icon\", \"background\"] }, { kind: \"component\", type: TuiLoader, selector: \"tui-loader\", inputs: [\"size\", \"inheritColor\", \"overlay\", \"textContent\", \"showLoader\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }\n}\n__decorate([\n    tuiPure\n], TuiFile.prototype, \"calculateContent$\", null);\n__decorate([\n    tuiPure\n], TuiFile.prototype, \"calculateFileSize$\", null);\n__decorate([\n    tuiPure\n], TuiFile.prototype, \"createPreview\", null);\n__decorate([\n    tuiPure\n], TuiFile.prototype, \"getName\", null);\n__decorate([\n    tuiPure\n], TuiFile.prototype, \"getType\", null);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiFile, decorators: [{\n            type: Component,\n            args: [{ standalone: true, selector: 'tui-file,a[tuiFile],button[tuiFile]', imports: [\n                        CommonModule,\n                        PolymorpheusOutlet,\n                        PolymorpheusTemplate,\n                        TuiButton,\n                        TuiIcon,\n                        TuiLoader,\n                    ], changeDetection: ChangeDetectionStrategy.OnPush, providers: [tuiAppearanceOptionsProvider(TUI_FILE_OPTIONS)], hostDirectives: [TuiAppearance], host: {\n                        '[attr.data-delete]': 'showDelete',\n                    }, template: \"<div\\n    class=\\\"t-preview\\\"\\n    [class.t-preview_big]=\\\"isBig\\\"\\n>\\n    <ng-container *polymorpheusOutlet=\\\"leftContent || defaultLeftContent as text\\\">\\n        {{ text }}\\n    </ng-container>\\n</div>\\n<div class=\\\"t-wrapper\\\">\\n    <div class=\\\"t-text\\\">\\n        <div class=\\\"t-name\\\">{{ name }}</div>\\n        <div class=\\\"t-type\\\">{{ type }}</div>\\n        <div\\n            *ngIf=\\\"showSize && (fileSize$ | async) as fileSize\\\"\\n            class=\\\"t-size\\\"\\n        >\\n            {{ fileSize }}\\n        </div>\\n    </div>\\n    <div\\n        *ngIf=\\\"content$ | async as content\\\"\\n        class=\\\"t-content\\\"\\n    >\\n        <ng-container *polymorpheusOutlet=\\\"content as text\\\">\\n            {{ text }}\\n        </ng-container>\\n    </div>\\n    <ng-content />\\n</div>\\n<ng-container *ngIf=\\\"allowDelete\\\">\\n    <button\\n        *ngIf=\\\"fileTexts$ | async as texts\\\"\\n        appearance=\\\"icon\\\"\\n        size=\\\"xs\\\"\\n        tuiIconButton\\n        type=\\\"button\\\"\\n        class=\\\"t-remove\\\"\\n        [iconStart]=\\\"icons.close\\\"\\n        (click.prevent)=\\\"remove.emit()\\\"\\n        (mousedown.prevent.silent)=\\\"(0)\\\"\\n    >\\n        {{ texts.remove }}\\n    </button>\\n</ng-container>\\n\\n<ng-template #defaultLeftContent>\\n    <img\\n        *ngIf=\\\"preview; else loader\\\"\\n        alt=\\\"file preview\\\"\\n        class=\\\"t-image\\\"\\n        [src]=\\\"preview\\\"\\n    />\\n    <ng-template #loader>\\n        <tui-loader\\n            *ngIf=\\\"isLoading; else svg\\\"\\n            class=\\\"t-loader\\\"\\n            [inheritColor]=\\\"isBig\\\"\\n        />\\n    </ng-template>\\n    <ng-template #svg>\\n        <tui-icon\\n            *polymorpheusOutlet=\\\"icon as src; context: {$implicit: size}\\\"\\n            class=\\\"t-icon\\\"\\n            [class.t-icon_blank]=\\\"isBig || isDeleted\\\"\\n            [class.t-icon_error]=\\\"isError\\\"\\n            [icon]=\\\"src.toString()\\\"\\n        />\\n    </ng-template>\\n</ng-template>\\n\", styles: [\":host{position:relative;display:flex;align-items:center;font:var(--tui-font-text-m);padding:.625rem 2.25rem .625rem .625rem;text-decoration:none;border-radius:var(--tui-radius-m)}:host:hover .t-remove,:host[data-delete=always] .t-remove{opacity:1}.t-preview{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;inline-size:1.5rem;block-size:1.5rem;margin-right:.75rem;border-radius:var(--tui-radius-m);overflow:hidden;color:var(--tui-text-tertiary)}.t-preview_big{inline-size:4rem;block-size:4rem;margin-right:1rem}.t-preview_big:before{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\\\"\\\";background:var(--tui-background-neutral-1)}.t-image{max-inline-size:100%;max-block-size:100%}.t-loader{position:absolute;top:0;left:0;inline-size:100%;block-size:100%}.t-icon{position:absolute;top:0;left:0;bottom:0;right:0;color:var(--tui-status-positive);margin:auto}.t-icon_blank{color:var(--tui-text-tertiary)}.t-icon_error{color:var(--tui-text-negative)}.t-remove{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.625rem;right:.625rem}.t-remove:focus{opacity:1}.t-remove:focus-visible{box-shadow:inset 0 0 0 2px var(--tui-border-focus)}@media (hover: hover) and (pointer: fine){.t-remove{opacity:0}}.t-wrapper{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;overflow:hidden;color:var(--tui-text-primary)}.t-text{display:flex}.t-size{flex-shrink:0;opacity:var(--tui-disabled-opacity);margin-left:.5rem}.t-type{flex-shrink:0}.t-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-content{font:var(--tui-font-text-s);color:var(--tui-text-negative)}\\n\"] }]\n        }], propDecorators: { file: [{\n                type: Input\n            }], state: [{\n                type: Input\n            }], size: [{\n                type: Input\n            }], showDelete: [{\n                type: Input\n            }], showSize: [{\n                type: Input\n            }], leftContent: [{\n                type: Input\n            }], remove: [{\n                type: Output\n            }], calculateContent$: [], calculateFileSize$: [], createPreview: [], getName: [], getType: [] } });\n\nclass TuiFilesComponent {\n    constructor() {\n        this.items = EMPTY_QUERY;\n        this.hideText$ = inject(TUI_HIDE_TEXT);\n        this.showAllText$ = inject(TUI_SHOW_ALL_TEXT);\n        this.max = 0;\n        this.expanded = false;\n        this.expandedChange = new EventEmitter();\n    }\n    get hasExtraItems() {\n        return !!this.max && this.items.length > this.max;\n    }\n    toggle() {\n        this.expanded = !this.expanded;\n        this.expandedChange.emit(this.expanded);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiFilesComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.12\", type: TuiFilesComponent, isStandalone: true, selector: \"tui-files\", inputs: { max: \"max\", expanded: \"expanded\" }, outputs: { expandedChange: \"expandedChange\" }, providers: [\n            tuiGroupOptionsProvider({ size: 'm', collapsed: true, orientation: 'vertical' }),\n        ], queries: [{ propertyName: \"items\", predicate: TuiItem, read: TemplateRef }], hostDirectives: [{ directive: i1$1.TuiGroup }], ngImport: i0, template: \"<ng-container *ngIf=\\\"items?.changes | async\\\" />\\n<ng-content />\\n<ng-container *ngFor=\\\"let item of items; let index = index\\\">\\n    <ng-container\\n        *ngIf=\\\"!max || index < max\\\"\\n        [ngTemplateOutlet]=\\\"item\\\"\\n    />\\n</ng-container>\\n<tui-expand\\n    *ngIf=\\\"hasExtraItems\\\"\\n    [expanded]=\\\"expanded\\\"\\n>\\n    <div class=\\\"t-extra-items\\\">\\n        <ng-container *ngFor=\\\"let item of items; let index = index\\\">\\n            <ng-container\\n                *ngIf=\\\"max && index >= max\\\"\\n                [ngTemplateOutlet]=\\\"item\\\"\\n            />\\n        </ng-container>\\n    </div>\\n</tui-expand>\\n<div\\n    *ngIf=\\\"hasExtraItems\\\"\\n    class=\\\"t-bottom\\\"\\n    [class.t-bottom_collapsed]=\\\"!expanded\\\"\\n>\\n    <button\\n        appearance=\\\"outline\\\"\\n        size=\\\"m\\\"\\n        tuiButton\\n        type=\\\"button\\\"\\n        class=\\\"t-button\\\"\\n        (click)=\\\"toggle()\\\"\\n    >\\n        {{ (expanded ? hideText$ : showAllText$) | async }}\\n    </button>\\n</div>\\n\", styles: [\"tui-files{inline-size:100%;overflow:hidden;border-radius:var(--tui-radius-m)}tui-files .t-files{position:relative;display:block;inline-size:100%;block-size:100%;border-radius:var(--tui-radius-m);overflow:hidden}tui-files .t-button{inline-size:100%;border-radius:inherit}tui-files .t-bottom{z-index:3;inline-size:100%;background:var(--tui-background-base)}tui-files .t-bottom_collapsed{box-shadow:var(--tui-shadow-popup);margin-top:-1.5rem}tui-files .t-extra-items tui-file{border-radius:0;margin-top:0;margin-bottom:-.0625rem}\\n\"], dependencies: [{ kind: \"ngmodule\", type: CommonModule }, { kind: \"directive\", type: i2.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i2.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"pipe\", type: i2.AsyncPipe, name: \"async\" }, { kind: \"directive\", type: TuiButton, selector: \"a[tuiButton],button[tuiButton],a[tuiIconButton],button[tuiIconButton]\", inputs: [\"size\"] }, { kind: \"component\", type: TuiExpandComponent, selector: \"tui-expand\", inputs: [\"async\", \"expanded\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiFilesComponent, decorators: [{\n            type: Component,\n            args: [{ standalone: true, selector: 'tui-files', imports: [CommonModule, TuiButton, TuiExpandComponent], encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, providers: [\n                        tuiGroupOptionsProvider({ size: 'm', collapsed: true, orientation: 'vertical' }),\n                    ], hostDirectives: [TuiGroup], template: \"<ng-container *ngIf=\\\"items?.changes | async\\\" />\\n<ng-content />\\n<ng-container *ngFor=\\\"let item of items; let index = index\\\">\\n    <ng-container\\n        *ngIf=\\\"!max || index < max\\\"\\n        [ngTemplateOutlet]=\\\"item\\\"\\n    />\\n</ng-container>\\n<tui-expand\\n    *ngIf=\\\"hasExtraItems\\\"\\n    [expanded]=\\\"expanded\\\"\\n>\\n    <div class=\\\"t-extra-items\\\">\\n        <ng-container *ngFor=\\\"let item of items; let index = index\\\">\\n            <ng-container\\n                *ngIf=\\\"max && index >= max\\\"\\n                [ngTemplateOutlet]=\\\"item\\\"\\n            />\\n        </ng-container>\\n    </div>\\n</tui-expand>\\n<div\\n    *ngIf=\\\"hasExtraItems\\\"\\n    class=\\\"t-bottom\\\"\\n    [class.t-bottom_collapsed]=\\\"!expanded\\\"\\n>\\n    <button\\n        appearance=\\\"outline\\\"\\n        size=\\\"m\\\"\\n        tuiButton\\n        type=\\\"button\\\"\\n        class=\\\"t-button\\\"\\n        (click)=\\\"toggle()\\\"\\n    >\\n        {{ (expanded ? hideText$ : showAllText$) | async }}\\n    </button>\\n</div>\\n\", styles: [\"tui-files{inline-size:100%;overflow:hidden;border-radius:var(--tui-radius-m)}tui-files .t-files{position:relative;display:block;inline-size:100%;block-size:100%;border-radius:var(--tui-radius-m);overflow:hidden}tui-files .t-button{inline-size:100%;border-radius:inherit}tui-files .t-bottom{z-index:3;inline-size:100%;background:var(--tui-background-base)}tui-files .t-bottom_collapsed{box-shadow:var(--tui-shadow-popup);margin-top:-1.5rem}tui-files .t-extra-items tui-file{border-radius:0;margin-top:0;margin-bottom:-.0625rem}\\n\"] }]\n        }], propDecorators: { items: [{\n                type: ContentChildren,\n                args: [TuiItem, { read: TemplateRef }]\n            }], max: [{\n                type: Input\n            }], expanded: [{\n                type: Input\n            }], expandedChange: [{\n                type: Output\n            }] } });\n\nclass TuiInputFilesContent {\n    constructor() {\n        this.breakpoint$ = inject(TuiBreakpointService);\n        this.text$ = inject(TUI_INPUT_FILE_TEXTS);\n        this.context = injectContext();\n        this.component = inject(TuiInputFiles);\n    }\n    get link$() {\n        return this.computeLink$(this.context.$implicit, !!this.component.input?.input.multiple);\n    }\n    get label$() {\n        return this.computeLabel$(this.context.$implicit, !!this.component.input?.input.multiple);\n    }\n    computeLink$(fileDragged, multiple) {\n        return fileDragged\n            ? of('')\n            : this.text$.pipe(map((t) => (multiple ? t.defaultLinkMultiple : t.defaultLinkSingle)));\n    }\n    computeLabel$(fileDragged, multiple) {\n        return fileDragged\n            ? combineLatest([this.breakpoint$, this.text$]).pipe(map(([breakpoint, text]) => {\n                if (breakpoint === 'mobile') {\n                    return '';\n                }\n                return multiple ? text.dropMultiple : text.drop;\n            }))\n            : combineLatest([this.breakpoint$, this.text$]).pipe(map(([breakpoint, text]) => {\n                if (breakpoint === 'mobile') {\n                    return '';\n                }\n                return multiple\n                    ? text.defaultLabelMultiple\n                    : text.defaultLabelSingle;\n            }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiInputFilesContent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.12\", type: TuiInputFilesContent, isStandalone: true, selector: \"ng-component\", ngImport: i0, template: `\n        <a tuiLink>{{ link$ | async }}</a>\n        {{ label$ | async }}\n    `, isInline: true, dependencies: [{ kind: \"pipe\", type: AsyncPipe, name: \"async\" }, { kind: \"directive\", type: TuiLink, selector: \"a[tuiLink], button[tuiLink]\", inputs: [\"pseudo\"] }], changeDetection: i0.ChangeDetectionStrategy.Default }); }\n}\n__decorate([\n    tuiPure\n], TuiInputFilesContent.prototype, \"computeLink$\", null);\n__decorate([\n    tuiPure\n], TuiInputFilesContent.prototype, \"computeLabel$\", null);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiInputFilesContent, decorators: [{\n            type: Component,\n            args: [{\n                    standalone: true,\n                    imports: [AsyncPipe, TuiLink],\n                    template: `\n        <a tuiLink>{{ link$ | async }}</a>\n        {{ label$ | async }}\n    `,\n                    // eslint-disable-next-line @angular-eslint/prefer-on-push-component-change-detection\n                    changeDetection: ChangeDetectionStrategy.Default,\n                }]\n        }], propDecorators: { computeLink$: [], computeLabel$: [] } });\n\nconst TUI_INPUT_FILES_DEFAULT_OPTIONS = {\n    accept: '',\n    multiple: false,\n    size: 'm',\n    maxFileSize: 30 * 1024 * 1024, // 30 MiB\n};\n/**\n * Default parameters for input files component\n */\nconst TUI_INPUT_FILES_OPTIONS = tuiCreateToken(TUI_INPUT_FILES_DEFAULT_OPTIONS);\nfunction tuiInputFilesOptionsProvider(options) {\n    return tuiProvideOptions(TUI_INPUT_FILES_OPTIONS, options, TUI_INPUT_FILES_DEFAULT_OPTIONS);\n}\n\nclass TuiInputFilesValidator {\n    constructor() {\n        this.options = inject(TUI_INPUT_FILES_OPTIONS);\n        this.validator = inject(TuiValidator);\n        this.accept = this.options.accept;\n        this.maxFileSize = this.options.maxFileSize;\n    }\n    ngOnChanges() {\n        this.validate();\n    }\n    ngOnInit() {\n        this.validate();\n    }\n    validate() {\n        this.validator.tuiValidator =\n            Validators.compose([\n                tuiCreateFileFormatValidator(this.accept),\n                tuiCreateFileSizeValidator(this.maxFileSize),\n            ]) || Validators.nullValidator;\n        this.validator.ngOnChanges();\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiInputFilesValidator, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.2.12\", type: TuiInputFilesValidator, isStandalone: true, inputs: { accept: \"accept\", maxFileSize: \"maxFileSize\" }, host: { properties: { \"accept\": \"accept\" } }, exportAs: [\"tuiInputFilesValidator\"], usesOnChanges: true, hostDirectives: [{ directive: i1$2.TuiValidator }], ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiInputFilesValidator, decorators: [{\n            type: Directive,\n            args: [{\n                    standalone: true,\n                    exportAs: 'tuiInputFilesValidator',\n                    hostDirectives: [TuiValidator],\n                    host: {\n                        '[accept]': 'accept',\n                    },\n                }]\n        }], propDecorators: { accept: [{\n                type: Input\n            }], maxFileSize: [{\n                type: Input\n            }] } });\n\nclass TuiInputFilesDirective extends TuiControl {\n    constructor() {\n        super(...arguments);\n        this.host = inject(forwardRef(() => TuiInputFiles));\n        this.reject = timer(0, tuiZonefreeScheduler()).pipe(switchMap(() => tuiControlValue(this.control.control)), map(() => tuiFilesRejected(this.control.control)), filter(({ length }) => !!length));\n        this.appearance = 'file';\n        this.input = tuiInjectElement();\n    }\n    process(files) {\n        const fileOrFiles = this.input.multiple\n            ? [...toArray(this.value()), ...Array.from(files)]\n            : files[0];\n        if (fileOrFiles) {\n            this.onChange(fileOrFiles);\n        }\n    }\n    onClick(event) {\n        if (this.input.readOnly) {\n            event.preventDefault();\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiInputFilesDirective, deps: null, target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.2.12\", type: TuiInputFilesDirective, isStandalone: true, selector: \"input[tuiInputFiles]\", outputs: { reject: \"reject\" }, host: { attributes: { \"type\": \"file\" }, listeners: { \"blur\": \"onTouched()\", \"click\": \"onClick($event)\" }, properties: { \"disabled\": \"disabled()\" } }, providers: [\n            tuiAsControl(TuiInputFilesDirective),\n            tuiAppearanceOptionsProvider(TuiInputFilesDirective),\n        ], usesInheritance: true, hostDirectives: [{ directive: i1$3.TuiNativeValidator }, { directive: i1.TuiWithAppearance }, { directive: TuiInputFilesValidator, inputs: [\"accept\", \"accept\", \"maxFileSize\", \"maxFileSize\"] }], ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiInputFilesDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    standalone: true,\n                    selector: 'input[tuiInputFiles]',\n                    providers: [\n                        tuiAsControl(TuiInputFilesDirective),\n                        tuiAppearanceOptionsProvider(TuiInputFilesDirective),\n                    ],\n                    hostDirectives: [\n                        TuiNativeValidator,\n                        TuiWithAppearance,\n                        {\n                            directive: TuiInputFilesValidator,\n                            inputs: ['accept', 'maxFileSize'],\n                        },\n                    ],\n                    host: {\n                        type: 'file',\n                        '[disabled]': 'disabled()',\n                        '(blur)': 'onTouched()',\n                        '(click)': 'onClick($event)',\n                    },\n                }]\n        }], propDecorators: { reject: [{\n                type: Output\n            }] } });\nfunction toArray(value) {\n    return value ? coerceArray(value) : EMPTY_ARRAY;\n}\n\nclass TuiInputFiles {\n    constructor() {\n        this.content = new PolymorpheusComponent(TuiInputFilesContent);\n    }\n    get fileDragged() {\n        return !!this.files && !this.input?.disabled();\n    }\n    onFilesSelected(input) {\n        if (!input?.files) {\n            return;\n        }\n        this.input?.process(input.files);\n        input.value = '';\n    }\n    onDropped({ dataTransfer }) {\n        this.files = null;\n        if (dataTransfer?.files && !this.input?.disabled()) {\n            this.input?.process(dataTransfer.files);\n        }\n    }\n    onDrag(dataTransfer) {\n        this.files = dataTransfer?.files;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiInputFiles, deps: [], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.2.12\", type: TuiInputFiles, isStandalone: true, selector: \"label[tuiInputFiles]\", host: { listeners: { \"dragover.prevent.silent\": \"0\", \"drop.prevent\": \"onDropped($event)\", \"dragenter\": \"onDrag($event.dataTransfer)\", \"dragleave\": \"onDrag(null)\", \"change\": \"onFilesSelected($event.target)\" }, properties: { \"class._dragged\": \"fileDragged\" } }, queries: [{ propertyName: \"template\", first: true, predicate: TemplateRef, descendants: true }, { propertyName: \"input\", first: true, predicate: TuiInputFilesDirective, descendants: true }], ngImport: i0, template: `\n        <ng-content></ng-content>\n        <span\n            *polymorpheusOutlet=\"\n                template || content as text;\n                context: {$implicit: fileDragged}\n            \"\n        >\n            {{ text }}\n        </span>\n    `, isInline: true, styles: [\"label[tuiInputFiles]{position:relative;display:flex;min-block-size:var(--tui-height-l);justify-content:center;align-items:center;text-align:center;border-radius:var(--tui-radius-m);font:var(--tui-font-text-m);overflow-wrap:break-word;padding:0 .5rem}label[tuiInputFiles]>:not(input){position:relative;pointer-events:none}label[tuiInputFiles] input{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;color:transparent;cursor:pointer}label[tuiInputFiles] input:disabled~*{opacity:var(--tui-disabled-opacity)}label[tuiInputFiles] input::-webkit-file-upload-button{display:none}label[tuiInputFiles] input::file-selector-button{display:none}*:disabled label[tuiInputFiles]{pointer-events:none}[tuiAppearance][data-appearance=file]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;border-radius:inherit;box-sizing:border-box;border:1px dashed var(--tui-text-action);outline:none}tui-root._mobile [tuiAppearance][data-appearance=file]{border-style:solid}[tuiInputFiles]._dragged [tuiAppearance][data-appearance=file]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover){[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}@media (hover: hover){[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover){[tuiAppearance][data-appearance=file][tuiWrapper]:hover:not(._no-hover),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][data-state=active]{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][tuiWrapper]:active:not(._no-active),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active],[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active]:hover{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file]:focus-visible:not([data-focus=false]){border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][data-focus=true]{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][data-appearance=file][tuiWrapper]._focused{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file]:invalid{border-color:var(--tui-status-negative)!important}\\n\"], dependencies: [{ kind: \"directive\", type: PolymorpheusOutlet, selector: \"[polymorpheusOutlet]\", inputs: [\"polymorpheusOutlet\", \"polymorpheusOutletContext\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiInputFiles, decorators: [{\n            type: Component,\n            args: [{ standalone: true, selector: 'label[tuiInputFiles]', imports: [PolymorpheusOutlet, PolymorpheusTemplate], template: `\n        <ng-content></ng-content>\n        <span\n            *polymorpheusOutlet=\"\n                template || content as text;\n                context: {$implicit: fileDragged}\n            \"\n        >\n            {{ text }}\n        </span>\n    `, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, host: {\n                        '(dragover.prevent.silent)': '0',\n                        '(drop.prevent)': 'onDropped($event)',\n                        '(dragenter)': 'onDrag($event.dataTransfer)',\n                        '(dragleave)': 'onDrag(null)',\n                        '[class._dragged]': 'fileDragged',\n                        '(change)': 'onFilesSelected($event.target)',\n                    }, styles: [\"label[tuiInputFiles]{position:relative;display:flex;min-block-size:var(--tui-height-l);justify-content:center;align-items:center;text-align:center;border-radius:var(--tui-radius-m);font:var(--tui-font-text-m);overflow-wrap:break-word;padding:0 .5rem}label[tuiInputFiles]>:not(input){position:relative;pointer-events:none}label[tuiInputFiles] input{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;color:transparent;cursor:pointer}label[tuiInputFiles] input:disabled~*{opacity:var(--tui-disabled-opacity)}label[tuiInputFiles] input::-webkit-file-upload-button{display:none}label[tuiInputFiles] input::file-selector-button{display:none}*:disabled label[tuiInputFiles]{pointer-events:none}[tuiAppearance][data-appearance=file]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;border-radius:inherit;box-sizing:border-box;border:1px dashed var(--tui-text-action);outline:none}tui-root._mobile [tuiAppearance][data-appearance=file]{border-style:solid}[tuiInputFiles]._dragged [tuiAppearance][data-appearance=file]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover){[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}@media (hover: hover){[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):hover:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}@media (hover: hover){[tuiAppearance][data-appearance=file][tuiWrapper]:hover:not(._no-hover),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=hover]{background:var(--tui-background-neutral-1);border-color:var(--tui-text-action-hover)}}[tuiAppearance][data-appearance=file]:-webkit-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:-moz-any(a,button,select,textarea,input,label):active:not(:disabled):not([data-state]){background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][data-state=active]{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file][tuiWrapper]:active:not(._no-active),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active],[tuiAppearance][data-appearance=file][tuiWrapper][data-state=active]:hover{background:var(--tui-background-neutral-1-hover)}[tuiAppearance][data-appearance=file]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][data-appearance=file][tuiWrapper][data-state=disabled]{background:transparent;border-color:var(--tui-text-tertiary)}[tuiAppearance][data-appearance=file]:focus-visible:not([data-focus=false]){border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][data-focus=true]{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][data-appearance=file][tuiWrapper]._focused{border:.125rem solid var(--tui-border-focus)}[tuiAppearance][data-appearance=file]:invalid{border-color:var(--tui-status-negative)!important}\\n\"] }]\n        }], propDecorators: { template: [{\n                type: ContentChild,\n                args: [TemplateRef]\n            }], input: [{\n                type: ContentChild,\n                args: [TuiInputFilesDirective]\n            }] } });\n\nclass TuiFileRejectedPipe {\n    constructor() {\n        this.options = inject(TUI_INPUT_FILES_OPTIONS);\n        this.formatSize = inject(TUI_FILE_OPTIONS).formatSize;\n        this.text$ = inject(TUI_INPUT_FILE_TEXTS);\n        this.unit$ = inject(TUI_DIGITAL_INFORMATION_UNITS);\n    }\n    transform(file, { accept = this.options.accept, maxFileSize = this.options.maxFileSize, } = this.options) {\n        const sizeValidator = tuiCreateFileSizeValidator(maxFileSize);\n        const formatValidator = tuiCreateFileFormatValidator(accept);\n        const control = new FormControl(file);\n        return combineLatest([this.text$, this.unit$]).pipe(map(([{ maxSizeRejectionReason, formatRejectionReason }, units]) => {\n            if (file && formatValidator(control)) {\n                return {\n                    name: file.name,\n                    size: file.size,\n                    content: formatRejectionReason,\n                };\n            }\n            if (file && sizeValidator(control)) {\n                return {\n                    name: file.name,\n                    size: file.size,\n                    content: `${maxSizeRejectionReason}${CHAR_NO_BREAK_SPACE}${this.formatSize(units, maxFileSize)}`,\n                };\n            }\n            return null;\n        }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiFileRejectedPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe }); }\n    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiFileRejectedPipe, isStandalone: true, name: \"tuiFileRejected\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.2.12\", ngImport: i0, type: TuiFileRejectedPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    standalone: true,\n                    name: 'tuiFileRejected',\n                }]\n        }] });\n\nconst TuiFiles = [\n    TuiItem,\n    TuiFile,\n    TuiInputFiles,\n    TuiFilesComponent,\n    TuiFileRejectedPipe,\n    TuiInputFilesDirective,\n];\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_FILE_DEFAULT_OPTIONS, TUI_FILE_OPTIONS, TUI_FORMAT_ERROR, TUI_INPUT_FILES_DEFAULT_OPTIONS, TUI_INPUT_FILES_OPTIONS, TUI_SIZE_ERROR, TuiFile, TuiFileRejectedPipe, TuiFiles, TuiFilesComponent, TuiInputFiles, TuiInputFilesContent, TuiInputFilesDirective, TuiInputFilesValidator, tuiCreateFileFormatValidator, tuiCreateFileSizeValidator, tuiFileOptionsProvider, tuiFilesAccepted, tuiFilesRejected, tuiFormatSize, tuiInputFilesOptionsProvider };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}