{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./number-filter-editor.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./number-filter-editor.component.scss?ngResource\";\nimport { Component, Input } from '@angular/core';\nimport { FilterOperations } from '../../services/filters/filterOperations';\nimport { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FilterConverter } from '../../services/filters/filter-converter';\nimport { CommonModule, NgIf, NgSwitchCase } from '@angular/common';\nimport { TuiButton, TuiDataList, TuiTextfield } from '@taiga-ui/core';\nimport { TuiInputModule, TuiInputNumberModule, TuiSelectModule, TuiTextfieldControllerModule } from '@taiga-ui/legacy';\nimport _ from 'lodash';\nlet NumberFilterEditorComponent = class NumberFilterEditorComponent {\n  ngOnChanges(changes) {\n    if (changes['filter']) {\n      this.initFilter();\n    }\n  }\n  ngOnInit() {\n    this.initFilter();\n  }\n  initFilter() {\n    this.columnValue = new FormControl(this.filter.filterColumn);\n    this.operatorValue = new FormControl(this.filter.operation);\n    this.numberValue = this.filter.valueForComparison;\n    if (_.isNil(this.filter.operation) || this.filter.operation == FilterOperations.IsNotNull || this.filter.operation == FilterOperations.IsNull) {\n      this.showValue = false;\n    } else {\n      this.showValue = true;\n    }\n  }\n  filter;\n  possibleColumns;\n  converter = FilterConverter;\n  operators = FilterOperations;\n  possibleOperators = [FilterOperations.Equal, FilterOperations.NotEqual, FilterOperations.Lower, FilterOperations.LowerOrEqual, FilterOperations.Greater, FilterOperations.GreaterOrEqual, FilterOperations.IsNotNull, FilterOperations.IsNull];\n  columnValue;\n  operatorValue;\n  numberValue = 0;\n  showValue = false;\n  onFilterColumnChanged($event) {\n    this.filter.filterColumn = this.columnValue.value ?? '';\n  }\n  onOperatorChanged($event) {\n    if ($event == FilterOperations.IsNotNull || $event == FilterOperations.IsNull) {\n      this.showValue = false;\n    } else {\n      this.showValue = true;\n    }\n    this.filter.operation = this.operatorValue.value ?? FilterOperations.Equal;\n  }\n  onValueChanged($event) {\n    this.filter.valueForComparison = $event;\n  }\n  static propDecorators = {\n    filter: [{\n      type: Input\n    }],\n    possibleColumns: [{\n      type: Input\n    }]\n  };\n};\nNumberFilterEditorComponent = __decorate([Component({\n  selector: 'app-number-filter-editor',\n  standalone: true,\n  imports: [NgSwitchCase, NgIf, CommonModule, TuiDataList, TuiInputModule, TuiSelectModule, ReactiveFormsModule, TuiTextfieldControllerModule, TuiTextfield, TuiInputNumberModule, FormsModule, TuiButton],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], NumberFilterEditorComponent);\nexport { NumberFilterEditorComponent };","map":{"version":3,"names":["Component","Input","FilterOperations","FormControl","FormsModule","ReactiveFormsModule","FilterConverter","CommonModule","NgIf","NgSwitchCase","TuiButton","TuiDataList","TuiTextfield","TuiInputModule","TuiInputNumberModule","TuiSelectModule","TuiTextfieldControllerModule","_","NumberFilterEditorComponent","ngOnChanges","changes","initFilter","ngOnInit","columnValue","filter","filterColumn","operatorValue","operation","numberValue","valueForComparison","isNil","IsNotNull","IsNull","showValue","possibleColumns","converter","operators","possibleOperators","Equal","NotEqual","Lower","LowerOrEqual","Greater","GreaterOrEqual","onFilterColumnChanged","$event","value","onOperatorChanged","onValueChanged","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["C:\\Users\\Asus-PC\\Downloads\\WebLibraryNew\\WebLibrary\\WebLibraryApp\\Frontend\\src\\app\\components\\number-filter-editor\\number-filter-editor.component.ts"],"sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  SimpleChanges,\r\n} from '@angular/core';\r\nimport {\r\n  FilterOperations,\r\n  NumberFilterOperation,\r\n} from '../../services/filters/filterOperations';\r\nimport { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FilterConverter } from '../../services/filters/filter-converter';\r\nimport { CommonModule, NgIf, NgSwitchCase } from '@angular/common';\r\nimport { TuiButton, TuiDataList, TuiTextfield } from '@taiga-ui/core';\r\nimport {\r\n  TuiInputModule,\r\n  TuiInputNumberModule,\r\n  TuiSelectModule,\r\n  TuiTextfieldControllerModule,\r\n} from '@taiga-ui/legacy';\r\nimport _ from 'lodash';\r\n\r\n@Component({\r\n  selector: 'app-number-filter-editor',\r\n  standalone: true,\r\n  imports: [\r\n    NgSwitchCase,\r\n    NgIf,\r\n    CommonModule,\r\n    TuiDataList,\r\n    TuiInputModule,\r\n    TuiSelectModule,\r\n    ReactiveFormsModule,\r\n    TuiTextfieldControllerModule,\r\n    TuiTextfield,\r\n    TuiInputNumberModule,\r\n    FormsModule,\r\n    TuiButton,\r\n  ],\r\n  templateUrl: './number-filter-editor.component.html',\r\n  styleUrl: './number-filter-editor.component.scss',\r\n})\r\nexport class NumberFilterEditorComponent implements OnInit, OnChanges {\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes['filter']) {\r\n      this.initFilter();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFilter();\r\n  }\r\n\r\n  initFilter() {\r\n    this.columnValue = new FormControl<string>(this.filter.filterColumn);\r\n    this.operatorValue = new FormControl<FilterOperations>(\r\n      this.filter.operation\r\n    );\r\n    this.numberValue = this.filter.valueForComparison;\r\n    if (\r\n      _.isNil(this.filter.operation) ||\r\n      this.filter.operation == FilterOperations.IsNotNull ||\r\n      this.filter.operation == FilterOperations.IsNull\r\n    ) {\r\n      this.showValue = false;\r\n    } else {\r\n      this.showValue = true;\r\n    }\r\n  }\r\n\r\n  @Input() filter!: NumberFilterOperation;\r\n  @Input() possibleColumns!: string[];\r\n\r\n  converter: any = FilterConverter;\r\n  operators: any = FilterOperations;\r\n  possibleOperators: FilterOperations[] = [\r\n    FilterOperations.Equal,\r\n    FilterOperations.NotEqual,\r\n    FilterOperations.Lower,\r\n    FilterOperations.LowerOrEqual,\r\n    FilterOperations.Greater,\r\n    FilterOperations.GreaterOrEqual,\r\n    FilterOperations.IsNotNull,\r\n    FilterOperations.IsNull,\r\n  ];\r\n  protected columnValue!: FormControl<string | null>;\r\n  protected operatorValue!: FormControl<FilterOperations | null>;\r\n  protected numberValue: number = 0;\r\n  protected showValue: boolean = false;\r\n\r\n  onFilterColumnChanged($event: any) {\r\n    this.filter.filterColumn = this.columnValue.value ?? '';\r\n  }\r\n\r\n  onOperatorChanged($event: FilterOperations) {\r\n    if (\r\n      $event == FilterOperations.IsNotNull ||\r\n      $event == FilterOperations.IsNull\r\n    ) {\r\n      this.showValue = false;\r\n    } else {\r\n      this.showValue = true;\r\n    }\r\n    this.filter.operation = this.operatorValue.value ?? FilterOperations.Equal;\r\n  }\r\n\r\n  onValueChanged($event: number) {\r\n    this.filter.valueForComparison = $event;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}