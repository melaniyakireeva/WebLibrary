{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./add-reference-modal.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./add-reference-modal.component.scss?ngResource\";\nimport { CommonModule } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { TuiButton, TuiIcon, TuiTextfield } from '@taiga-ui/core';\nimport { TuiTooltip } from '@taiga-ui/kit';\nimport { injectContext } from '@taiga-ui/polymorpheus';\nimport _ from 'lodash';\nlet AddReferenceModalComponent = class AddReferenceModalComponent {\n  context = injectContext();\n  id;\n  name = '';\n  description;\n  ngOnInit() {\n    if (!_.isNil(this.context.data.reference)) {\n      this.name = this.context.data.reference.name ?? '';\n      this.description = this.context.data.reference.description ?? '';\n      this.id = this.context.data.reference.id;\n    }\n  }\n  submit() {\n    if (!_.isEmpty(this.name)) {\n      if (_.isNil(this.context.data.reference)) {\n        const res = {\n          id: -1,\n          name: this.name,\n          userId: this.context.data.userId ?? -1,\n          ekbElements: [],\n          description: this.description ?? ''\n        };\n        this.context.completeWith(res);\n      } else {\n        this.context.data.reference.name = this.name;\n        this.context.data.reference.description = this.description ?? '';\n        this.context.completeWith(this.context.data.reference);\n      }\n    }\n  }\n};\nAddReferenceModalComponent = __decorate([Component({\n  selector: 'app-add-reference-modal',\n  standalone: true,\n  imports: [TuiTextfield, TuiIcon, TuiTooltip, TuiButton, FormsModule, CommonModule],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], AddReferenceModalComponent);\nexport { AddReferenceModalComponent };","map":{"version":3,"names":["CommonModule","Component","FormsModule","TuiButton","TuiIcon","TuiTextfield","TuiTooltip","injectContext","_","AddReferenceModalComponent","context","id","name","description","ngOnInit","isNil","data","reference","submit","isEmpty","res","userId","ekbElements","completeWith","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["C:\\Users\\Asus-PC\\Downloads\\WebLibraryNew\\WebLibrary\\WebLibraryApp\\Frontend\\src\\app\\components\\add-reference-modal\\add-reference-modal.component.ts"],"sourcesContent":["import { CommonModule } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport {\r\n  TuiButton,\r\n  TuiDialogContext,\r\n  TuiIcon,\r\n  TuiTextfield,\r\n} from '@taiga-ui/core';\r\nimport { TuiTooltip } from '@taiga-ui/kit';\r\nimport { injectContext } from '@taiga-ui/polymorpheus';\r\nimport _ from 'lodash';\r\nimport { References } from '../../services/reference/reference.service';\r\n\r\n@Component({\r\n  selector: 'app-add-reference-modal',\r\n  standalone: true,\r\n  imports: [\r\n    TuiTextfield,\r\n    TuiIcon,\r\n    TuiTooltip,\r\n    TuiButton,\r\n    FormsModule,\r\n    CommonModule,\r\n  ],\r\n  templateUrl: './add-reference-modal.component.html',\r\n  styleUrl: './add-reference-modal.component.scss',\r\n})\r\nexport class AddReferenceModalComponent implements OnInit {\r\n  public readonly context =\r\n    injectContext<TuiDialogContext<References, { reference?: References, userId?: number }>>();\r\n\r\n  protected id?: number;\r\n  protected name: string = '';\r\n  protected description?: string;\r\n\r\n  ngOnInit(): void {\r\n    if (!_.isNil(this.context.data.reference)) {\r\n      this.name = this.context.data.reference.name ?? '';\r\n      this.description = this.context.data.reference.description ?? '';\r\n      this.id = this.context.data.reference.id;\r\n    }\r\n  }\r\n\r\n  protected submit(): void {\r\n    if (!_.isEmpty(this.name)) {\r\n      if (_.isNil(this.context.data.reference)) {\r\n        const res: References = {\r\n          id: -1,\r\n          name: this.name,\r\n          userId: this.context.data.userId ?? -1,\r\n          ekbElements: [],\r\n          description: this.description ?? '',\r\n        };\r\n        this.context.completeWith(res);\r\n      } else {\r\n        this.context.data.reference.name = this.name;\r\n        this.context.data.reference.description = this.description ?? '';\r\n        this.context.completeWith(this.context.data.reference);\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;AAAA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,SAAS,QAAgB,eAAe;AACjD,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SACEC,SAAS,EAETC,OAAO,EACPC,YAAY,QACP,gBAAgB;AACvB,SAASC,UAAU,QAAQ,eAAe;AAC1C,SAASC,aAAa,QAAQ,wBAAwB;AACtD,OAAOC,CAAC,MAAM,QAAQ;AAiBf,IAAMC,0BAA0B,GAAhC,MAAMA,0BAA0B;EACrBC,OAAO,GACrBH,aAAa,EAA6E;EAElFI,EAAE;EACFC,IAAI,GAAW,EAAE;EACjBC,WAAW;EAErBC,QAAQA,CAAA;IACN,IAAI,CAACN,CAAC,CAACO,KAAK,CAAC,IAAI,CAACL,OAAO,CAACM,IAAI,CAACC,SAAS,CAAC,EAAE;MACzC,IAAI,CAACL,IAAI,GAAG,IAAI,CAACF,OAAO,CAACM,IAAI,CAACC,SAAS,CAACL,IAAI,IAAI,EAAE;MAClD,IAAI,CAACC,WAAW,GAAG,IAAI,CAACH,OAAO,CAACM,IAAI,CAACC,SAAS,CAACJ,WAAW,IAAI,EAAE;MAChE,IAAI,CAACF,EAAE,GAAG,IAAI,CAACD,OAAO,CAACM,IAAI,CAACC,SAAS,CAACN,EAAE;IAC1C;EACF;EAEUO,MAAMA,CAAA;IACd,IAAI,CAACV,CAAC,CAACW,OAAO,CAAC,IAAI,CAACP,IAAI,CAAC,EAAE;MACzB,IAAIJ,CAAC,CAACO,KAAK,CAAC,IAAI,CAACL,OAAO,CAACM,IAAI,CAACC,SAAS,CAAC,EAAE;QACxC,MAAMG,GAAG,GAAe;UACtBT,EAAE,EAAE,CAAC,CAAC;UACNC,IAAI,EAAE,IAAI,CAACA,IAAI;UACfS,MAAM,EAAE,IAAI,CAACX,OAAO,CAACM,IAAI,CAACK,MAAM,IAAI,CAAC,CAAC;UACtCC,WAAW,EAAE,EAAE;UACfT,WAAW,EAAE,IAAI,CAACA,WAAW,IAAI;SAClC;QACD,IAAI,CAACH,OAAO,CAACa,YAAY,CAACH,GAAG,CAAC;MAChC,CAAC,MAAM;QACL,IAAI,CAACV,OAAO,CAACM,IAAI,CAACC,SAAS,CAACL,IAAI,GAAG,IAAI,CAACA,IAAI;QAC5C,IAAI,CAACF,OAAO,CAACM,IAAI,CAACC,SAAS,CAACJ,WAAW,GAAG,IAAI,CAACA,WAAW,IAAI,EAAE;QAChE,IAAI,CAACH,OAAO,CAACa,YAAY,CAAC,IAAI,CAACb,OAAO,CAACM,IAAI,CAACC,SAAS,CAAC;MACxD;IACF;EACF;CACD;AAlCYR,0BAA0B,GAAAe,UAAA,EAdtCvB,SAAS,CAAC;EACTwB,QAAQ,EAAE,yBAAyB;EACnCC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CACPtB,YAAY,EACZD,OAAO,EACPE,UAAU,EACVH,SAAS,EACTD,WAAW,EACXF,YAAY,CACb;EACD4B,QAAA,EAAAC,oBAAmD;;CAEpD,CAAC,C,EACWpB,0BAA0B,CAkCtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}