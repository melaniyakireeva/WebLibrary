{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./book-card.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./book-card.component.scss?ngResource\";\nimport { Component, inject } from '@angular/core';\nimport { TuiButton, TuiIcon, TuiTextfield } from '@taiga-ui/core';\nimport { injectContext } from '@taiga-ui/polymorpheus';\nimport { TuiAvatar, TuiTooltip } from '@taiga-ui/kit';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { FilesUploaderService } from '../../services/files/files-uploader.service';\nimport _ from 'lodash';\nlet BookCardComponent = class BookCardComponent {\n  fileService = inject(FilesUploaderService);\n  context = injectContext();\n  sourceFile = null;\n  ngOnInit() {\n    if (!_.isNil(this.context.data.bookInfo.fileId)) {\n      this.fileService.getFile(this.context.data.bookInfo.fileId).subscribe(x => {\n        this.sourceFile = `data:image/png;base64, ${x.fileData}`;\n      });\n    }\n  }\n};\nBookCardComponent = __decorate([Component({\n  selector: 'app-book-card',\n  standalone: true,\n  imports: [TuiTextfield, TuiIcon, TuiTooltip, TuiButton, TuiAvatar, FormsModule, CommonModule],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], BookCardComponent);\nexport { BookCardComponent };","map":{"version":3,"names":["Component","inject","TuiButton","TuiIcon","TuiTextfield","injectContext","TuiAvatar","TuiTooltip","FormsModule","CommonModule","FilesUploaderService","_","BookCardComponent","fileService","context","sourceFile","ngOnInit","isNil","data","bookInfo","fileId","getFile","subscribe","x","fileData","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["C:\\Users\\Asus-PC\\Downloads\\WebLibraryNew\\WebLibrary\\WebLibraryApp\\Frontend\\src\\app\\components\\book-card\\book-card.component.ts"],"sourcesContent":["import { Component, inject, OnInit } from '@angular/core';\r\nimport {\r\n  TuiButton,\r\n  TuiDialogContext,\r\n  TuiIcon,\r\n  TuiTextfield,\r\n} from '@taiga-ui/core';\r\nimport { injectContext } from '@taiga-ui/polymorpheus';\r\nimport { TuiAvatar, TuiTooltip } from '@taiga-ui/kit';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BookDto } from '../../services/book/book.service';\r\nimport { FileWorkerService } from '../../services/fileworker/file-worker.service';\r\nimport { FilesUploaderService } from '../../services/files/files-uploader.service';\r\nimport _, { tap } from 'lodash';\r\nimport { map } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-book-card',\r\n  standalone: true,\r\n  imports: [\r\n    TuiTextfield,\r\n    TuiIcon,\r\n    TuiTooltip,\r\n    TuiButton,\r\n    TuiAvatar,\r\n    FormsModule,\r\n    CommonModule,\r\n  ],\r\n  templateUrl: './book-card.component.html',\r\n  styleUrl: './book-card.component.scss',\r\n})\r\nexport class BookCardComponent implements OnInit {\r\n  private fileService: FilesUploaderService = inject(FilesUploaderService);\r\n\r\n  public readonly context =\r\n    injectContext<TuiDialogContext<void, { bookInfo: BookDto }>>();\r\n\r\n  sourceFile: string | null = null;\r\n\r\n  ngOnInit(): void {\r\n    if (!_.isNil(this.context.data.bookInfo.fileId)){\r\n      this.fileService.getFile(this.context.data.bookInfo.fileId).subscribe(x => {\r\n        this.sourceFile = `data:image/png;base64, ${x.fileData}`;\r\n      });\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;AAAA,SAASA,SAAS,EAAEC,MAAM,QAAgB,eAAe;AACzD,SACEC,SAAS,EAETC,OAAO,EACPC,YAAY,QACP,gBAAgB;AACvB,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,SAAS,EAAEC,UAAU,QAAQ,eAAe;AACrD,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,YAAY,QAAQ,iBAAiB;AAG9C,SAASC,oBAAoB,QAAQ,6CAA6C;AAClF,OAAOC,CAAU,MAAM,QAAQ;AAkBxB,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EACpBC,WAAW,GAAyBZ,MAAM,CAACS,oBAAoB,CAAC;EAExDI,OAAO,GACrBT,aAAa,EAAiD;EAEhEU,UAAU,GAAkB,IAAI;EAEhCC,QAAQA,CAAA;IACN,IAAI,CAACL,CAAC,CAACM,KAAK,CAAC,IAAI,CAACH,OAAO,CAACI,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAC,EAAC;MAC9C,IAAI,CAACP,WAAW,CAACQ,OAAO,CAAC,IAAI,CAACP,OAAO,CAACI,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAC,CAACE,SAAS,CAACC,CAAC,IAAG;QACxE,IAAI,CAACR,UAAU,GAAG,0BAA0BQ,CAAC,CAACC,QAAQ,EAAE;MAC1D,CAAC,CAAC;IACJ;EACF;CACD;AAfYZ,iBAAiB,GAAAa,UAAA,EAf7BzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,eAAe;EACzBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CACPxB,YAAY,EACZD,OAAO,EACPI,UAAU,EACVL,SAAS,EACTI,SAAS,EACTE,WAAW,EACXC,YAAY,CACb;EACDoB,QAAA,EAAAC,oBAAyC;;CAE1C,CAAC,C,EACWlB,iBAAiB,CAe7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}