import { Optional, SkipSelf } from '@angular/core';
import { tuiCreateToken, tuiCreateTokenFromFactory, tuiIsString, } from '@taiga-ui/cdk/utils/miscellaneous';
import { tuiIconsPathFactory } from '@taiga-ui/legacy/utils';
import { identity } from 'rxjs';
import { tuiSvgLinearGradientProcessor } from './content-processor';
import { TUI_DEPRECATED_ICONS } from './deprecated-icons';
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_DEFAULT_ICONS_PLACE = 'assets/taiga-ui/icons';
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_DEFAULT_OPTIONS = {
    iconsPlace: TUI_DEFAULT_ICONS_PLACE,
    path: tuiIconsPathFactory(TUI_DEFAULT_ICONS_PLACE),
    srcProcessor: identity,
    contentProcessor: tuiSvgLinearGradientProcessor,
    deprecated: (src) => {
        const oldIcon = src.replace('Large', '').replace('Outline', '');
        const newIcon = TUI_DEPRECATED_ICONS[oldIcon];
        return newIcon
            ? `${oldIcon}/(Large|Outline) is deprecated, use ${newIcon}/(Large|Outline) instead`
            : '';
    },
};
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_OPTIONS = tuiCreateTokenFromFactory(() => ({
    iconsPlace: TUI_DEFAULT_ICONS_PLACE,
    path: tuiIconsPathFactory(TUI_DEFAULT_ICONS_PLACE),
    deprecated: TUI_SVG_DEFAULT_OPTIONS.deprecated,
    srcProcessor: identity,
    contentProcessor: tuiSvgLinearGradientProcessor,
}));
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const TUI_SVG_SRC_INTERCEPTORS = tuiCreateToken();
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export function tuiSvgSrcInterceptors(interceptor) {
    return {
        provide: TUI_SVG_SRC_INTERCEPTORS,
        useValue: interceptor,
        multi: true,
    };
}
/**
 * @deprecated: drop in v5.0 use {@link TuiIcon}
 * https://taiga-ui.dev/components/icon
 */
export const tuiSvgOptionsProvider = (options) => ({
    provide: TUI_SVG_OPTIONS,
    deps: [[new SkipSelf(), new Optional(), TUI_SVG_OPTIONS]],
    useFactory: (fallback) => ({
        iconsPlace: options.iconsPlace ??
            fallback?.iconsPlace ??
            TUI_SVG_DEFAULT_OPTIONS.iconsPlace,
        path: tuiIsString(options.path)
            ? tuiIconsPathFactory(options.path)
            : (options.path ?? fallback?.path ?? TUI_SVG_DEFAULT_OPTIONS.path),
        deprecated: options.deprecated ??
            fallback?.deprecated ??
            TUI_SVG_DEFAULT_OPTIONS.deprecated,
        srcProcessor: options.srcProcessor ??
            fallback?.srcProcessor ??
            TUI_SVG_DEFAULT_OPTIONS.srcProcessor,
        contentProcessor: options.contentProcessor ??
            fallback?.contentProcessor ??
            TUI_SVG_DEFAULT_OPTIONS.contentProcessor,
    }),
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ZnLW9wdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9sZWdhY3kvY29tcG9uZW50cy9zdmcvc3ZnLW9wdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFFakQsT0FBTyxFQUNILGNBQWMsRUFDZCx5QkFBeUIsRUFDekIsV0FBVyxHQUNkLE1BQU0sbUNBQW1DLENBQUM7QUFDM0MsT0FBTyxFQUFDLG1CQUFtQixFQUFDLE1BQU0sd0JBQXdCLENBQUM7QUFDM0QsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLE1BQU0sQ0FBQztBQUU5QixPQUFPLEVBQUMsNkJBQTZCLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUNsRSxPQUFPLEVBQUMsb0JBQW9CLEVBQUMsTUFBTSxvQkFBb0IsQ0FBQztBQUV4RDs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyx1QkFBdUIsQ0FBQztBQXNCL0Q7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQWtCO0lBQ2xELFVBQVUsRUFBRSx1QkFBdUI7SUFDbkMsSUFBSSxFQUFFLG1CQUFtQixDQUFDLHVCQUF1QixDQUFDO0lBQ2xELFlBQVksRUFBRSxRQUFRO0lBQ3RCLGdCQUFnQixFQUFFLDZCQUE2QjtJQUMvQyxVQUFVLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUNoQixNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2hFLE1BQU0sT0FBTyxHQUFHLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTlDLE9BQU8sT0FBTztZQUNWLENBQUMsQ0FBQyxHQUFHLE9BQU8sdUNBQXVDLE9BQU8sMEJBQTBCO1lBQ3BGLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDYixDQUFDO0NBQ0osQ0FBQztBQUVGOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyx5QkFBeUIsQ0FBZ0IsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUMzRSxVQUFVLEVBQUUsdUJBQXVCO0lBQ25DLElBQUksRUFBRSxtQkFBbUIsQ0FBQyx1QkFBdUIsQ0FBQztJQUNsRCxVQUFVLEVBQUUsdUJBQXVCLENBQUMsVUFBVTtJQUM5QyxZQUFZLEVBQUUsUUFBUTtJQUN0QixnQkFBZ0IsRUFBRSw2QkFBNkI7Q0FDbEQsQ0FBQyxDQUFDLENBQUM7QUFFSjs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxjQUFjLEVBQTRCLENBQUM7QUFFbkY7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLHFCQUFxQixDQUFDLFdBQXFDO0lBQ3ZFLE9BQU87UUFDSCxPQUFPLEVBQUUsd0JBQXdCO1FBQ2pDLFFBQVEsRUFBRSxXQUFXO1FBQ3JCLEtBQUssRUFBRSxJQUFJO0tBQ2QsQ0FBQztBQUNOLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FJWCxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNqQyxPQUFPLEVBQUUsZUFBZTtJQUN4QixJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksUUFBUSxFQUFFLEVBQUUsSUFBSSxRQUFRLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQztJQUN6RCxVQUFVLEVBQUUsQ0FBQyxRQUE4QixFQUFpQixFQUFFLENBQUMsQ0FBQztRQUM1RCxVQUFVLEVBQ04sT0FBTyxDQUFDLFVBQVU7WUFDbEIsUUFBUSxFQUFFLFVBQVU7WUFDcEIsdUJBQXVCLENBQUMsVUFBVTtRQUN0QyxJQUFJLEVBQUUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDM0IsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7WUFDbkMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxRQUFRLEVBQUUsSUFBSSxJQUFJLHVCQUF1QixDQUFDLElBQUksQ0FBQztRQUN0RSxVQUFVLEVBQ04sT0FBTyxDQUFDLFVBQVU7WUFDbEIsUUFBUSxFQUFFLFVBQVU7WUFDcEIsdUJBQXVCLENBQUMsVUFBVTtRQUN0QyxZQUFZLEVBQ1IsT0FBTyxDQUFDLFlBQVk7WUFDcEIsUUFBUSxFQUFFLFlBQVk7WUFDdEIsdUJBQXVCLENBQUMsWUFBWTtRQUN4QyxnQkFBZ0IsRUFDWixPQUFPLENBQUMsZ0JBQWdCO1lBQ3hCLFFBQVEsRUFBRSxnQkFBZ0I7WUFDMUIsdUJBQXVCLENBQUMsZ0JBQWdCO0tBQy9DLENBQUM7Q0FDTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7RmFjdG9yeVByb3ZpZGVyLCBQcm92aWRlcn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge09wdGlvbmFsLCBTa2lwU2VsZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgdHlwZSB7VHVpSGFuZGxlciwgVHVpU2FmZUh0bWwsIFR1aVN0cmluZ0hhbmRsZXJ9IGZyb20gJ0B0YWlnYS11aS9jZGsvdHlwZXMnO1xuaW1wb3J0IHtcbiAgICB0dWlDcmVhdGVUb2tlbixcbiAgICB0dWlDcmVhdGVUb2tlbkZyb21GYWN0b3J5LFxuICAgIHR1aUlzU3RyaW5nLFxufSBmcm9tICdAdGFpZ2EtdWkvY2RrL3V0aWxzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHt0dWlJY29uc1BhdGhGYWN0b3J5fSBmcm9tICdAdGFpZ2EtdWkvbGVnYWN5L3V0aWxzJztcbmltcG9ydCB7aWRlbnRpdHl9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQge3R1aVN2Z0xpbmVhckdyYWRpZW50UHJvY2Vzc29yfSBmcm9tICcuL2NvbnRlbnQtcHJvY2Vzc29yJztcbmltcG9ydCB7VFVJX0RFUFJFQ0FURURfSUNPTlN9IGZyb20gJy4vZGVwcmVjYXRlZC1pY29ucyc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGNvbnN0IFRVSV9ERUZBVUxUX0lDT05TX1BMQUNFID0gJ2Fzc2V0cy90YWlnYS11aS9pY29ucyc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUdWlTdmdPcHRpb25zIHtcbiAgICByZWFkb25seSBjb250ZW50UHJvY2Vzc29yOiBUdWlIYW5kbGVyPFR1aVNhZmVIdG1sLCBUdWlTYWZlSHRtbD47XG4gICAgcmVhZG9ubHkgZGVwcmVjYXRlZDogVHVpU3RyaW5nSGFuZGxlcjxzdHJpbmc+O1xuICAgIHJlYWRvbmx5IGljb25zUGxhY2U6IHN0cmluZztcbiAgICByZWFkb25seSBwYXRoOiAobmFtZTogc3RyaW5nLCBiYXNlSHJlZj86IHN0cmluZykgPT4gc3RyaW5nO1xuICAgIHJlYWRvbmx5IHNyY1Byb2Nlc3NvcjogVHVpSGFuZGxlcjxUdWlTYWZlSHRtbCwgVHVpU2FmZUh0bWw+O1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCB0eXBlIFR1aVN2Z0ludGVyY2VwdG9ySGFuZGxlciA9XG4gICAgfCAoKHNyYzogVHVpU2FmZUh0bWwsIG9wdGlvbnM6IFR1aVN2Z09wdGlvbnMpID0+IFR1aVNhZmVIdG1sKVxuICAgIHwgKChzcmM6IFR1aVNhZmVIdG1sKSA9PiBUdWlTYWZlSHRtbCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGNvbnN0IFRVSV9TVkdfREVGQVVMVF9PUFRJT05TOiBUdWlTdmdPcHRpb25zID0ge1xuICAgIGljb25zUGxhY2U6IFRVSV9ERUZBVUxUX0lDT05TX1BMQUNFLFxuICAgIHBhdGg6IHR1aUljb25zUGF0aEZhY3RvcnkoVFVJX0RFRkFVTFRfSUNPTlNfUExBQ0UpLFxuICAgIHNyY1Byb2Nlc3NvcjogaWRlbnRpdHksXG4gICAgY29udGVudFByb2Nlc3NvcjogdHVpU3ZnTGluZWFyR3JhZGllbnRQcm9jZXNzb3IsXG4gICAgZGVwcmVjYXRlZDogKHNyYykgPT4ge1xuICAgICAgICBjb25zdCBvbGRJY29uID0gc3JjLnJlcGxhY2UoJ0xhcmdlJywgJycpLnJlcGxhY2UoJ091dGxpbmUnLCAnJyk7XG4gICAgICAgIGNvbnN0IG5ld0ljb24gPSBUVUlfREVQUkVDQVRFRF9JQ09OU1tvbGRJY29uXTtcblxuICAgICAgICByZXR1cm4gbmV3SWNvblxuICAgICAgICAgICAgPyBgJHtvbGRJY29ufS8oTGFyZ2V8T3V0bGluZSkgaXMgZGVwcmVjYXRlZCwgdXNlICR7bmV3SWNvbn0vKExhcmdlfE91dGxpbmUpIGluc3RlYWRgXG4gICAgICAgICAgICA6ICcnO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCBjb25zdCBUVUlfU1ZHX09QVElPTlMgPSB0dWlDcmVhdGVUb2tlbkZyb21GYWN0b3J5PFR1aVN2Z09wdGlvbnM+KCgpID0+ICh7XG4gICAgaWNvbnNQbGFjZTogVFVJX0RFRkFVTFRfSUNPTlNfUExBQ0UsXG4gICAgcGF0aDogdHVpSWNvbnNQYXRoRmFjdG9yeShUVUlfREVGQVVMVF9JQ09OU19QTEFDRSksXG4gICAgZGVwcmVjYXRlZDogVFVJX1NWR19ERUZBVUxUX09QVElPTlMuZGVwcmVjYXRlZCxcbiAgICBzcmNQcm9jZXNzb3I6IGlkZW50aXR5LFxuICAgIGNvbnRlbnRQcm9jZXNzb3I6IHR1aVN2Z0xpbmVhckdyYWRpZW50UHJvY2Vzc29yLFxufSkpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCBjb25zdCBUVUlfU1ZHX1NSQ19JTlRFUkNFUFRPUlMgPSB0dWlDcmVhdGVUb2tlbjxUdWlTdmdJbnRlcmNlcHRvckhhbmRsZXI+KCk7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQ6IGRyb3AgaW4gdjUuMCB1c2Uge0BsaW5rIFR1aUljb259XG4gKiBodHRwczovL3RhaWdhLXVpLmRldi9jb21wb25lbnRzL2ljb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHR1aVN2Z1NyY0ludGVyY2VwdG9ycyhpbnRlcmNlcHRvcjogVHVpU3ZnSW50ZXJjZXB0b3JIYW5kbGVyKTogUHJvdmlkZXIge1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb3ZpZGU6IFRVSV9TVkdfU1JDX0lOVEVSQ0VQVE9SUyxcbiAgICAgICAgdXNlVmFsdWU6IGludGVyY2VwdG9yLFxuICAgICAgICBtdWx0aTogdHJ1ZSxcbiAgICB9O1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkOiBkcm9wIGluIHY1LjAgdXNlIHtAbGluayBUdWlJY29ufVxuICogaHR0cHM6Ly90YWlnYS11aS5kZXYvY29tcG9uZW50cy9pY29uXG4gKi9cbmV4cG9ydCBjb25zdCB0dWlTdmdPcHRpb25zUHJvdmlkZXI6IChcbiAgICBvcHRpb25zOiBQYXJ0aWFsPE9taXQ8VHVpU3ZnT3B0aW9ucywgJ3BhdGgnPj4gJiB7XG4gICAgICAgIHBhdGg/OiBUdWlTdmdPcHRpb25zWydwYXRoJ10gfCBzdHJpbmc7XG4gICAgfSxcbikgPT4gRmFjdG9yeVByb3ZpZGVyID0gKG9wdGlvbnMpID0+ICh7XG4gICAgcHJvdmlkZTogVFVJX1NWR19PUFRJT05TLFxuICAgIGRlcHM6IFtbbmV3IFNraXBTZWxmKCksIG5ldyBPcHRpb25hbCgpLCBUVUlfU1ZHX09QVElPTlNdXSxcbiAgICB1c2VGYWN0b3J5OiAoZmFsbGJhY2s6IFR1aVN2Z09wdGlvbnMgfCBudWxsKTogVHVpU3ZnT3B0aW9ucyA9PiAoe1xuICAgICAgICBpY29uc1BsYWNlOlxuICAgICAgICAgICAgb3B0aW9ucy5pY29uc1BsYWNlID8/XG4gICAgICAgICAgICBmYWxsYmFjaz8uaWNvbnNQbGFjZSA/P1xuICAgICAgICAgICAgVFVJX1NWR19ERUZBVUxUX09QVElPTlMuaWNvbnNQbGFjZSxcbiAgICAgICAgcGF0aDogdHVpSXNTdHJpbmcob3B0aW9ucy5wYXRoKVxuICAgICAgICAgICAgPyB0dWlJY29uc1BhdGhGYWN0b3J5KG9wdGlvbnMucGF0aClcbiAgICAgICAgICAgIDogKG9wdGlvbnMucGF0aCA/PyBmYWxsYmFjaz8ucGF0aCA/PyBUVUlfU1ZHX0RFRkFVTFRfT1BUSU9OUy5wYXRoKSxcbiAgICAgICAgZGVwcmVjYXRlZDpcbiAgICAgICAgICAgIG9wdGlvbnMuZGVwcmVjYXRlZCA/P1xuICAgICAgICAgICAgZmFsbGJhY2s/LmRlcHJlY2F0ZWQgPz9cbiAgICAgICAgICAgIFRVSV9TVkdfREVGQVVMVF9PUFRJT05TLmRlcHJlY2F0ZWQsXG4gICAgICAgIHNyY1Byb2Nlc3NvcjpcbiAgICAgICAgICAgIG9wdGlvbnMuc3JjUHJvY2Vzc29yID8/XG4gICAgICAgICAgICBmYWxsYmFjaz8uc3JjUHJvY2Vzc29yID8/XG4gICAgICAgICAgICBUVUlfU1ZHX0RFRkFVTFRfT1BUSU9OUy5zcmNQcm9jZXNzb3IsXG4gICAgICAgIGNvbnRlbnRQcm9jZXNzb3I6XG4gICAgICAgICAgICBvcHRpb25zLmNvbnRlbnRQcm9jZXNzb3IgPz9cbiAgICAgICAgICAgIGZhbGxiYWNrPy5jb250ZW50UHJvY2Vzc29yID8/XG4gICAgICAgICAgICBUVUlfU1ZHX0RFRkFVTFRfT1BUSU9OUy5jb250ZW50UHJvY2Vzc29yLFxuICAgIH0pLFxufSk7XG4iXX0=