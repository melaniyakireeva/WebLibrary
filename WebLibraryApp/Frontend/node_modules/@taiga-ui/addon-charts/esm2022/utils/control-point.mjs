import { tuiLineAngle } from './line-angle';
import { tuiLineLength } from './line-length';
export function tuiControlPoint(current, previous, next, reverse = false, smoothing = 0.2) {
    const fallback = current || [0, 0];
    const p = previous || current || [0, 0];
    const n = next || current || [0, 0];
    const angle = tuiLineAngle(p, n) + (reverse ? Math.PI : 0);
    const length = tuiLineLength(p, n) * smoothing;
    const x = fallback[0] + Math.cos(angle) * length;
    const y = fallback[1] + Math.sin(angle) * length;
    return [x, y];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbC1wb2ludC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL2FkZG9uLWNoYXJ0cy91dGlscy9jb250cm9sLXBvaW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxjQUFjLENBQUM7QUFDMUMsT0FBTyxFQUFDLGFBQWEsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUU1QyxNQUFNLFVBQVUsZUFBZSxDQUMzQixPQUFrQixFQUNsQixRQUFtQixFQUNuQixJQUFlLEVBQ2YsT0FBTyxHQUFHLEtBQUssRUFDZixTQUFTLEdBQUcsR0FBRztJQUVmLE1BQU0sUUFBUSxHQUFHLE9BQU8sSUFBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQVcsQ0FBQztJQUM5QyxNQUFNLENBQUMsR0FBRyxRQUFRLElBQUksT0FBTyxJQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBVyxDQUFDO0lBQ25ELE1BQU0sQ0FBQyxHQUFHLElBQUksSUFBSSxPQUFPLElBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFXLENBQUM7SUFDL0MsTUFBTSxLQUFLLEdBQUcsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0QsTUFBTSxNQUFNLEdBQUcsYUFBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUM7SUFDL0MsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDO0lBQ2pELE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQztJQUVqRCxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2xCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7VHVpUG9pbnR9IGZyb20gJ0B0YWlnYS11aS9jb3JlL3R5cGVzJztcblxuaW1wb3J0IHt0dWlMaW5lQW5nbGV9IGZyb20gJy4vbGluZS1hbmdsZSc7XG5pbXBvcnQge3R1aUxpbmVMZW5ndGh9IGZyb20gJy4vbGluZS1sZW5ndGgnO1xuXG5leHBvcnQgZnVuY3Rpb24gdHVpQ29udHJvbFBvaW50KFxuICAgIGN1cnJlbnQ/OiBUdWlQb2ludCxcbiAgICBwcmV2aW91cz86IFR1aVBvaW50LFxuICAgIG5leHQ/OiBUdWlQb2ludCxcbiAgICByZXZlcnNlID0gZmFsc2UsXG4gICAgc21vb3RoaW5nID0gMC4yLFxuKTogVHVpUG9pbnQge1xuICAgIGNvbnN0IGZhbGxiYWNrID0gY3VycmVudCB8fCAoWzAsIDBdIGFzIGNvbnN0KTtcbiAgICBjb25zdCBwID0gcHJldmlvdXMgfHwgY3VycmVudCB8fCAoWzAsIDBdIGFzIGNvbnN0KTtcbiAgICBjb25zdCBuID0gbmV4dCB8fCBjdXJyZW50IHx8IChbMCwgMF0gYXMgY29uc3QpO1xuICAgIGNvbnN0IGFuZ2xlID0gdHVpTGluZUFuZ2xlKHAsIG4pICsgKHJldmVyc2UgPyBNYXRoLlBJIDogMCk7XG4gICAgY29uc3QgbGVuZ3RoID0gdHVpTGluZUxlbmd0aChwLCBuKSAqIHNtb290aGluZztcbiAgICBjb25zdCB4ID0gZmFsbGJhY2tbMF0gKyBNYXRoLmNvcyhhbmdsZSkgKiBsZW5ndGg7XG4gICAgY29uc3QgeSA9IGZhbGxiYWNrWzFdICsgTWF0aC5zaW4oYW5nbGUpICogbGVuZ3RoO1xuXG4gICAgcmV0dXJuIFt4LCB5XTtcbn1cbiJdfQ==